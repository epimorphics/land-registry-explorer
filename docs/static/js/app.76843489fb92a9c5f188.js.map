{"version":3,"sources":["webpack:///static/js/app.76843489fb92a9c5f188.js","webpack:///./src/components/GoogleMap.vue?9604","webpack:///./src/components/ResultView.vue?bafe","webpack:///./src/components/SparqlConsole.vue?88e1","webpack:///./~/vue-codemirror/src/codemirror.vue","webpack:///./src/components/ResultView.vue?d648","webpack:///./src/components/GoogleMap.vue?81d6","webpack:///./src/components/SparqlConsole.vue?23a2","webpack:///./~/vue-codemirror/src/codemirror.vue?ab6b","webpack:///./src/App.vue?f2db","webpack:///./src/App.vue?fc6a","webpack:///./src/main.js","webpack:///codemirror.vue","webpack:///App.vue","webpack:///GoogleMap.vue","webpack:///ResultView.vue","webpack:///SparqlConsole.vue","webpack:///./~/codemirror/mode ^\\.\\/.*\\.js$","webpack:///./~/codemirror/theme ^\\.\\/.*\\.css$"],"names":["webpackJsonp","140","module","exports","141","142","143","144","145","146","150","__webpack_require__","injectStyle","ssrContext","Component","151","152","153","154","render","_vm","this","_h","$createElement","_c","_self","staticClass","activeView","attrs","id","_m","_v","_s","message","result","_e","staticRenderFns","155","156","options","editorOption","on","changes","onEditorChanges","beforeChange","onEditorBeforeChange","beforeSelectionChange","onEditorBeforeSelectionChange","model","value","callback","$$v","code","expression","click","runQuery","157","158","selectedPostcode","currentView","ref","md-icon","md-active","$event","161","59","82","__webpack_exports__","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_es6_promise__","__WEBPACK_IMPORTED_MODULE_0_es6_promise___default","n","__WEBPACK_IMPORTED_MODULE_1_vue__","__WEBPACK_IMPORTED_MODULE_2_vuex__","__WEBPACK_IMPORTED_MODULE_3_vue_material__","__WEBPACK_IMPORTED_MODULE_3_vue_material___default","__WEBPACK_IMPORTED_MODULE_4_vue_codemirror__","__WEBPACK_IMPORTED_MODULE_4_vue_codemirror___default","__WEBPACK_IMPORTED_MODULE_5__App__","__WEBPACK_IMPORTED_MODULE_5__App___default","a","polyfill","config","productionTip","use","store","Store","state","postcode","queryPrefix","queryPostfix","queryResult","queryStatusCode","mutations","updatePostcode","updateQueryResult","updateQueryStatusCode","status","updateQueryPrefix","updateQueryPostfix","getters","el","template","components","App","83","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default","window","CodeMirror","name","data","content","props","String","unseenLines","Array","marker","Function","loadtheme","type","Boolean","default","debugger","required","created","undefined","lineNumbers","lineWrapping","mode","theme","language","_debugger","_loadtheme","isCustomMode","modes","lang","findModeByMIME","findModeByName","ext","findModeByExtension","mime","filename","findModeByFileName","console","warn","mounted","_this","editor","fromTextArea","$el","setValue","cm","getValue","$emit","events","i","length","event","b","c","unseenLineMarkers","setTimeout","refresh","beforeDestroy","element","doc","getWrapperElement","remove","watch","deep","handler","oldOptions","key","setOption","newVal","oldVal","scrollInfo","getScrollInfo","scrollTo","left","top","methods","forEach","line","info","lineInfo","setGutterMarker","gutterMarkers","84","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_1__components_GoogleMap__","__WEBPACK_IMPORTED_MODULE_1__components_GoogleMap___default","__WEBPACK_IMPORTED_MODULE_2__components_SparqlConsole__","__WEBPACK_IMPORTED_MODULE_2__components_SparqlConsole___default","__WEBPACK_IMPORTED_MODULE_3__components_ResultView__","__WEBPACK_IMPORTED_MODULE_3__components_ResultView___default","axios","GoogleMap","SparqlConsole","ResultView","openResult","document","getElementById","mVue","url","encodeURIComponent","get","headers","Accept","then","response","parseQueryResult","results","bindings","$store","commit","catch","error","map","row","rowObject","column","dataTypeCast","obj","datatype","replace","Number","Date","computed","set","newPostcode","85","chroma","turf","turfInside","d3voronoi","Promise","visiblePostcodes","mapCenter","google","maps","LatLng","infoWindow","InfoWindow","populatingData","updateMapCenter","zoom","center","disableDefaultUI","zoomControl","minZoom","maxZoom","Map","addListener","getCenter","getNearbyPostcodes","latitude","longitude","log","_this2","lng","lat","point","push","populateURLs","properties","getData","_this3","totalPaid","items","transaction","pricePaid","averagePaid","concurrency","generateVoronoi","_this4","centroids","geometry","coordinates","maxY","getBounds","getNorthEast","maxX","minY","getSouthWest","minX","voronoi","extent","voronoiPolygons","polygons","postcodePolygons","polygon","reverse","postcodePolygon","postcodePoint","centroid","clearShapes","populateData","_this5","feature","_this6","min","Infinity","max","addGeoJson","setPolygonsColor","bezInterpolator","scale","setStyle","avgPaid","getProperty","colorIndex","fillColor","strokeWeight","setOnFeatureClickListener","close","averagePricePaid","prettyPrintCurrency","getId","position","open","amount","toLocaleString","style","currency","maximumFractionDigits","panTo","_this7","86","dc","d3","crossfilter","statusCode","requiredFields","every","field","hasOwnProperty","visualizeData","rowChart","barChart","dataGrid","ndx","propertyTypeDimension","dimension","d","propertyType","propertyTypeGroup","group","reduceCount","yearDimension","date","toString","substring","yearAvgGroup","reduce","p","v","count","total","average","timeDimension","getTime","yearDomain","width","height","ordinalColors","title","elasticX","turnOnControls","xAxis","ticks","tickSize","tickPadding","valueAccessor","x","ordinal","domain","xUnits","units","elasticY","yAxisLabel","xAxisLabel","renderHorizontalGridLines","gap","centerBar","margins","right","bottom","tickFormat","yAxis","minimumFractionDigits","html","paon","street","town","county","getDate","getMonth","getFullYear","sortBy","size","renderAll","87","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","inputStyle","tabSize","foldGutter","styleActiveLine","matchBrackets","getIndexAt","string","char","currentLine","codemirror","changeObject","ranges","JSON","parse","head","anchor","update","origin","cancel","changeObjects","newEditorState","postcodeStartIndex","postcodeEndIndex","changedCharIndex","from","ch","newQueryPrefix","newQueryPostfix","95","webpackContext","req","webpackContextResolve","Error","./meta.js","./sparql/sparql.js","keys","resolve","97","./base16-dark.css","./base16-light.css"],"mappings":"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","file":"static/js/app.76843489fb92a9c5f188.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 140:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 141:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 142:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 143:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 144:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 145:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 146:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 150:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(144)\n}\nvar Component = __webpack_require__(12)(\n  /* script */\n  __webpack_require__(85),\n  /* template */\n  __webpack_require__(155),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-3cc16e99\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 151:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(143)\n}\nvar Component = __webpack_require__(12)(\n  /* script */\n  __webpack_require__(86),\n  /* template */\n  __webpack_require__(154),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 152:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(145)\n}\nvar Component = __webpack_require__(12)(\n  /* script */\n  __webpack_require__(87),\n  /* template */\n  __webpack_require__(156),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 153:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(12)(\n  /* script */\n  __webpack_require__(83),\n  /* template */\n  __webpack_require__(157),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 154:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"result-view\"\n  }, [(_vm.activeView === 'data') ? _c('div', {\n    attrs: {\n      \"id\": \"visualization\"\n    }\n  }, [_vm._m(0), _vm._v(\" \"), _vm._m(1)]) : (_vm.activeView === 'json') ? _c('div', {\n    staticClass: \"result-view\",\n    attrs: {\n      \"id\": \"json\"\n    }\n  }, [_c('pre', [_vm._v(_vm._s(_vm.message))]), _vm._v(\" \"), _c('pre', [_vm._v(_vm._s(_vm.result))])]) : _vm._e()])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"rowChartDataTable\"\n    }\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('span', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Number of Sales per Property Type\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"rowChart\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"grid\"\n  }, [_c('span', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Latest Property Sale\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"dataGrid\"\n    }\n  })])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"bar\"\n  }, [_c('span', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Average Price Paid per Year\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"barChart\"\n    }\n  })])\n}]}\n\n/***/ }),\n\n/***/ 155:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"google-map\",\n    attrs: {\n      \"id\": \"gmap\"\n    }\n  })\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 156:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"sparql-console\"\n  }, [_c('codemirror', {\n    attrs: {\n      \"id\": \"codemirror\",\n      \"options\": _vm.editorOption\n    },\n    on: {\n      \"changes\": _vm.onEditorChanges,\n      \"beforeChange\": _vm.onEditorBeforeChange,\n      \"beforeSelectionChange\": _vm.onEditorBeforeSelectionChange\n    },\n    model: {\n      value: (_vm.code),\n      callback: function($$v) {\n        _vm.code = $$v\n      },\n      expression: \"code\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"my-fab\"\n  }, [_c('md-button', {\n    staticClass: \"md-fab md-primary\",\n    on: {\n      \"click\": _vm.runQuery\n    }\n  }, [_c('md-icon', [_vm._v(\"play_arrow\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 157:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('textarea')\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 158:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('div', [_c('md-input-container', [_c('label', [_vm._v(\"Postcode\")]), _vm._v(\" \"), _c('md-input', {\n    model: {\n      value: (_vm.selectedPostcode),\n      callback: function($$v) {\n        _vm.selectedPostcode = $$v\n      },\n      expression: \"selectedPostcode\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', [(_vm.currentView === 'map') ? _c('div', [_c('GoogleMap', {\n    ref: \"gmap\",\n    attrs: {\n      \"id\": \"gmap\"\n    }\n  })], 1) : (_vm.currentView === 'query') ? _c('div', [_c('SparqlConsole', {\n    attrs: {\n      \"id\": \"console\"\n    },\n    on: {\n      \"runQuery\": _vm.runQuery\n    }\n  })], 1) : _c('div', [_c('ResultView', {\n    attrs: {\n      \"id\": \"result\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('md-bottom-bar', [_c('md-bottom-bar-item', {\n    attrs: {\n      \"md-icon\": \"map\",\n      \"id\": \"map-button\",\n      \"md-active\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.currentView = 'map'\n      }\n    }\n  }, [_vm._v(\"Map\")]), _vm._v(\" \"), _c('md-bottom-bar-item', {\n    attrs: {\n      \"md-icon\": \"code\",\n      \"id\": \"query-button\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.currentView = 'query'\n      }\n    }\n  }, [_vm._v(\"Query\")]), _vm._v(\" \"), _c('md-bottom-bar-item', {\n    attrs: {\n      \"md-icon\": \"equalizer\",\n      \"id\": \"result-button\"\n    },\n    on: {\n      \"click\": _vm.runQuery\n    }\n  }, [_vm._v(\"Result\")])], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 161:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 59:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(146)\n}\nvar Component = __webpack_require__(12)(\n  /* script */\n  __webpack_require__(84),\n  /* template */\n  __webpack_require__(158),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 82:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_es6_promise__ = __webpack_require__(57);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_es6_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_es6_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue_material__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue_material___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_vue_material__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vue_codemirror__ = __webpack_require__(58);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vue_codemirror___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_vue_codemirror__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__App__ = __webpack_require__(59);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__App__);\n// Required for IE11\n\n__WEBPACK_IMPORTED_MODULE_0_es6_promise___default.a.polyfill();\n\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"].config.productionTip = false;\n\n__WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_3_vue_material___default.a);\n__WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_4_vue_codemirror___default.a);\n\nvar store = new __WEBPACK_IMPORTED_MODULE_2_vuex__[\"a\" /* default */].Store({\n  state: {\n    postcode: '',\n    queryPrefix: 'prefix xsd: <http://www.w3.org/2001/XMLSchema#>\\n' + 'prefix ukhpi: <http://landregistry.data.gov.uk/def/ukhpi/>\\n' + 'prefix lrppi: <http://landregistry.data.gov.uk/def/ppi/>\\n' + 'prefix skos: <http://www.w3.org/2004/02/skos/core#>\\n' + 'prefix lrcommon: <http://landregistry.data.gov.uk/def/common/>\\n' + '\\n' + 'SELECT ?paon ?saon ?street ?town ?county ?propertyType ?postcode ?amount ?date ?category\\n' + 'WHERE\\n' + '{\\n' + '  VALUES ?postcode {\"',\n    queryPostfix: '\"^^xsd:string}\\n' + '\\n' + '  ?addr lrcommon:postcode ?postcode.\\n' + '\\n' + '  ?transx lrppi:propertyAddress ?addr ;\\n' + '  lrppi:pricePaid ?amount ;\\n' + '  lrppi:propertyType/skos:prefLabel ?propertyType ;\\n' + '  lrppi:transactionDate ?date ;\\n' + '  lrppi:transactionCategory/skos:prefLabel ?category.\\n' + '\\n' + '  OPTIONAL {?addr lrcommon:county ?county}\\n' + '  OPTIONAL {?addr lrcommon:paon ?paon}\\n' + '  OPTIONAL {?addr lrcommon:saon ?saon}\\n' + '  OPTIONAL {?addr lrcommon:street ?street}\\n' + '  OPTIONAL {?addr lrcommon:town ?town}\\n' + '}',\n    queryResult: {},\n    queryStatusCode: 0\n  },\n  mutations: {\n    updatePostcode: function updatePostcode(state, postcode) {\n      state.postcode = postcode;\n    },\n    updateQueryResult: function updateQueryResult(state, result) {\n      state.queryResult = result;\n    },\n    updateQueryStatusCode: function updateQueryStatusCode(state, status) {\n      state.queryStatusCode = status;\n    },\n    updateQueryPrefix: function updateQueryPrefix(state, queryPrefix) {\n      state.queryPrefix = queryPrefix;\n    },\n    updateQueryPostfix: function updateQueryPostfix(state, queryPostfix) {\n      state.queryPostfix = queryPostfix;\n    }\n  },\n  getters: {\n    code: function code(state) {\n      return state.queryPrefix + state.postcode + state.queryPostfix;\n    },\n    queryResult: function queryResult(state) {\n      return state.queryResult;\n    }\n  }\n});\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"]({\n  el: '#app',\n  store: store,\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_5__App___default.a }\n});\n\n/***/ }),\n\n/***/ 83:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__ = __webpack_require__(92);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__);\n\n//\n//\n//\n//\n\nwindow.CodeMirror = __webpack_require__(13);\n__webpack_require__(140);\n__webpack_require__(43);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'codemirror',\n  data: function data() {\n    return {\n      content: ''\n    };\n  },\n  props: {\n    code: String,\n    value: String,\n    unseenLines: Array,\n    marker: Function,\n    loadtheme: {\n      type: Boolean,\n      default: function _default() {\n        return true;\n      }\n    },\n    debugger: {\n      type: Boolean,\n      default: function _default() {\n        return true;\n      }\n    },\n    options: {\n      type: Object,\n      required: true\n    }\n  },\n  created: function created() {\n\n    if (this.options.lineNumbers === undefined) {\n      this.options.lineNumbers = true;\n    }\n    if (this.options.lineWrapping === undefined) {\n      this.options.lineWrapping = false;\n    }\n    if (this.options.mode === undefined) {\n      this.options.mode = 'text/javascript';\n    }\n\n    var theme = this.options.theme;\n    var language = this.options.mode;\n    var _debugger = this.debugger;\n    var _loadtheme = this.loadtheme;\n    var isCustomMode = !!CodeMirror.modes[language];\n\n    // theme config\n    if (theme && theme == 'solarized light') {\n      theme = 'solarized';\n    }\n\n    // console.log(language, CodeMirror.modes.simplemode)\n\n    // language string config\n    if (typeof language == 'string') {\n      var lang = CodeMirror.findModeByMIME(language);\n      language = !lang ? lang : lang.mode;\n\n      // language object config\n    } else if ((typeof language === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(language)) == 'object') {\n\n      if (language.name) {\n        var lang = CodeMirror.findModeByName(language.name);\n        if (lang) {\n          language = lang.mode;\n          // this.options.mode = language\n        } else {\n          language = null;\n        }\n      } else if (language.ext) {\n        var lang = CodeMirror.findModeByExtension(language.ext);\n        if (lang) {\n          language = lang.mode;\n          // this.options.mode = language\n        } else {\n          language = null;\n        }\n      } else if (language.mime) {\n        var lang = CodeMirror.findModeByMIME(language.mime);\n        if (lang) {\n          language = lang.mode;\n          // this.options.mode = language\n        } else {\n          language = null;\n        }\n      } else if (language.filename) {\n        var lang = CodeMirror.findModeByFileName(language.filename);\n        if (lang) {\n          language = lang.mode;\n          // this.options.mode = language\n        } else {\n          language = null;\n        }\n      }\n    }\n\n    // console.log('language', language, isCustomMode)\n\n    if ((!language || language == 'null') && _debugger && !isCustomMode) {\n      console.warn('CodeMirror language mode: ' + language + ' configuration error (CodeMirror语言模式配置错误，或者不支持此语言) See http://codemirror.net/mode/ for more details.');\n      // return false\n    }\n\n    // console.log(language, theme)\n\n    // require language\n    if (language && language !== 'null') {\n      __webpack_require__(95)(\"./\" + language + '/' + language + '.js');\n    }\n\n    // require theme\n    if (theme && _loadtheme) {\n      __webpack_require__(97)(\"./\" + theme + '.css');\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n    this.editor = CodeMirror.fromTextArea(this.$el, this.options);\n    this.editor.setValue(this.code || this.value || this.content);\n    this.editor.on('change', function (cm) {\n      _this.content = cm.getValue();\n      if (!!_this.$emit) {\n        _this.$emit('change', _this.content);\n        _this.$emit('input', _this.content);\n      }\n    });\n    var events = ['changes', 'beforeChange', 'cursorActivity', 'keyHandled', 'inputRead', 'electricInput', 'beforeSelectionChange', 'viewportChange', 'swapDoc', 'gutterClick', 'gutterContextMenu', 'focus', 'blur', 'refresh', 'optionChange', 'scrollCursorIntoView', 'update'];\n    for (var i = events.length - 1; i >= 0; i--) {\n      (function (event) {\n        _this.editor.on(event, function (a, b, c) {\n          _this.$emit(event, a, b, c);\n        });\n      })(events[i]);\n    }\n    this.$emit('ready', this.editor);\n    this.unseenLineMarkers();\n\n    // prevents funky dynamic rendering\n    window.setTimeout(function () {\n      _this.editor.refresh();\n    }, 0);\n  },\n  beforeDestroy: function beforeDestroy() {\n\n    // garbage cleanup\n    var element = this.editor.doc.cm.getWrapperElement();\n    if (element && element.remove) {\n      element.remove();\n    }\n  },\n  watch: {\n    options: {\n      deep: true,\n      handler: function handler(options, oldOptions) {\n        var key;\n        for (key in options) {\n          this.editor.setOption(key, options[key]);\n        }\n      }\n    },\n    code: function code(newVal, oldVal) {\n      var editor_value = this.editor.getValue();\n      if (newVal !== editor_value) {\n        var scrollInfo = this.editor.getScrollInfo();\n        this.editor.setValue(newVal);\n        this.content = newVal;\n        this.editor.scrollTo(scrollInfo.left, scrollInfo.top);\n      }\n      this.unseenLineMarkers();\n    },\n    value: function value(newVal, oldVal) {\n      var editor_value = this.editor.getValue();\n      if (newVal !== editor_value) {\n        var scrollInfo = this.editor.getScrollInfo();\n        this.editor.setValue(newVal);\n        this.content = newVal;\n        this.editor.scrollTo(scrollInfo.left, scrollInfo.top);\n      }\n      this.unseenLineMarkers();\n    }\n  },\n  methods: {\n    refresh: function refresh() {\n      this.editor.refresh();\n    },\n    unseenLineMarkers: function unseenLineMarkers() {\n      var _this = this;\n      if (_this.unseenLines !== undefined && _this.marker !== undefined) {\n        _this.unseenLines.forEach(function (line) {\n          var info = _this.editor.lineInfo(line);\n          _this.editor.setGutterMarker(line, \"breakpoints\", info.gutterMarkers ? null : _this.marker());\n        });\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 84:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(89);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_GoogleMap__ = __webpack_require__(150);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_GoogleMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_GoogleMap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_SparqlConsole__ = __webpack_require__(152);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_SparqlConsole___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_SparqlConsole__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ResultView__ = __webpack_require__(151);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ResultView___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__components_ResultView__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar axios = __webpack_require__(37);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  data: function data() {\n    return {\n      currentView: 'map'\n    };\n  },\n\n  components: {\n    GoogleMap: __WEBPACK_IMPORTED_MODULE_1__components_GoogleMap___default.a,\n    SparqlConsole: __WEBPACK_IMPORTED_MODULE_2__components_SparqlConsole___default.a,\n    ResultView: __WEBPACK_IMPORTED_MODULE_3__components_ResultView___default.a\n  },\n  methods: {\n    // Opens the result tab by clicking on the bottom menu item\n    openResult: function openResult() {\n      var resultButton = document.getElementById('result-button');\n      resultButton.click();\n    },\n    // Runs the query found in sparql console and updates Vuex state of the response code and the response itself\n    runQuery: function runQuery() {\n      var mVue = this;\n      var url = 'http://landregistry.data.gov.uk/landregistry/query?query=' + encodeURIComponent(mVue.code);\n      axios.get(url, {\n        headers: {\n          'Accept': 'application/sparql-results+json'\n        }\n      }).then(function (response) {\n        var data = mVue.parseQueryResult(response.data.results.bindings);\n        mVue.$store.commit('updateQueryStatusCode', response.status);\n        mVue.$store.commit('updateQueryResult', data);\n      }).catch(function (error) {\n        if (error) {\n          mVue.$store.commit('updateQueryStatusCode', error.response.status);\n          mVue.$store.commit('updateQueryResult', error.response.data);\n        }\n      });\n    },\n    // Strips down sparql query result to a simple json form\n    parseQueryResult: function parseQueryResult(result) {\n      var mVue = this;\n      return result.map(function (row) {\n        var rowObject = {};\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(row).forEach(function (column) {\n          rowObject[column] = mVue.dataTypeCast(row[column]);\n        });\n        return rowObject;\n      });\n    },\n    // Casts an object value into a corresponding data type found in the object properties\n    dataTypeCast: function dataTypeCast(obj) {\n      var xmlSchema = 'http://www.w3.org/2001/XMLSchema#';\n      var value = obj.value;\n      if (typeof obj.datatype === 'undefined') {\n        return value;\n      }\n      var dataType = obj.datatype.replace(xmlSchema, '');\n      switch (dataType) {\n        case 'string':\n          value = new String(value); // eslint-disable-line\n          break;\n        case 'boolean':\n          value = new Boolean(value === 'false' ? false : value); // eslint-disable-line\n          break;\n        case 'float':\n        case 'integer':\n        case 'long':\n        case 'double':\n        case 'decimal':\n        case 'nonPositiveInteger':\n        case 'nonNegativeInteger':\n        case 'negativeInteger':\n        case 'int':\n        case 'unsignedLong':\n        case 'positiveInteger':\n        case 'short':\n        case 'unsignedInt':\n        case 'byte':\n        case 'unsignedShort':\n        case 'unsignedByte':\n          value = new Number(value); // eslint-disable-line\n          break;\n        case 'date':\n        case 'time':\n        case 'dateTime':\n          value = new Date(value);\n          break;\n      }\n      return value;\n    }\n  },\n  computed: {\n    selectedPostcode: {\n      get: function get() {\n        return this.$store.state.postcode;\n      },\n      set: function set(newPostcode) {\n        this.$store.commit('updatePostcode', newPostcode);\n      }\n    },\n    queryResult: {\n      get: function get() {\n        return this.$store.state.queryResult;\n      }\n    },\n    code: {\n      get: function get() {\n        return this.$store.getters.code;\n      }\n    }\n  },\n  watch: {\n    // As soon as the state of queryResult is updated open the results view\n    queryResult: function queryResult() {\n      this.currentView = 'result';\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 85:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n\nvar chroma = __webpack_require__(94);\nvar turf = __webpack_require__(62);\nvar turfInside = __webpack_require__(63);\nvar d3voronoi = __webpack_require__(134);\nvar axios = __webpack_require__(37);\nvar Promise = __webpack_require__(93);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'google-map',\n  data: function data() {\n    return {\n      visiblePostcodes: [],\n      map: {},\n      mapCenter: new window.google.maps.LatLng(51.46040383078197, -2.6015971891367826),\n      infoWindow: new window.google.maps.InfoWindow(),\n      populatingData: false\n    };\n  },\n  mounted: function mounted() {\n    this.updateMapCenter();\n    var mVue = this;\n    var element = document.getElementById('gmap');\n    var options = {\n      zoom: 17,\n      center: this.mapCenter,\n      disableDefaultUI: true,\n      zoomControl: true,\n      minZoom: 17,\n      maxZoom: 18\n    };\n    var map = new window.google.maps.Map(element, options);\n    // Map on idle listener updates the data layer\n    map.addListener('idle', function () {\n      if (!mVue.populatingData) {\n        mVue.mapCenter = map.getCenter();\n        mVue.getNearbyPostcodes();\n      }\n    });\n    mVue.map = map;\n  },\n\n  methods: {\n    // Updates the map center to match the given postcode centroid\n    updateMapCenter: function updateMapCenter() {\n      var _this = this;\n\n      if (this.postcode.length < 6) return;\n      var url = 'https://api.postcodes.io/postcodes/' + this.postcode;\n      return axios.get(url).then(function (response) {\n        _this.mapCenter = new window.google.maps.LatLng(response.data.result.latitude, response.data.result.longitude);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    // Updates a list of visible postcodes with geoJSON points representing postcode centroids which are returned from the API call\n    getNearbyPostcodes: function getNearbyPostcodes() {\n      var _this2 = this;\n\n      this.visiblePostcodes = [];\n      var url = 'https://api.postcodes.io/postcodes?lon=' + this.mapCenter.lng() + '&lat=' + this.mapCenter.lat() + '&radius=300&limit=99';\n      axios.get(url).then(function (response) {\n        response.data.result.forEach(function (result) {\n          var postcode = turf.point([result.longitude, result.latitude]);\n          postcode.id = result.postcode;\n          _this2.visiblePostcodes.push(postcode);\n        });\n      }).then(function () {\n        _this2.populateURLs();\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    // Loops through visiblePostcodes and generates an url for querying the land registry api\n    populateURLs: function populateURLs() {\n      this.visiblePostcodes.forEach(function (postcode) {\n        var url = 'http://landregistry.data.gov.uk/data/ppi/transaction-record.json?_page=0&propertyAddress.postcode=' + postcode.id + '&_pageSize=50';\n        url = url.replace(' ', '%20');\n        postcode.properties.url = url;\n      });\n      this.getData();\n    },\n    // Runs an API call for all visible postcodes and calculates the average price paid\n    getData: function getData() {\n      var _this3 = this;\n\n      Promise.map(this.visiblePostcodes, function (postcode) {\n        return axios.get(postcode.properties.url).then(function (response) {\n          var totalPaid = 0;\n          var data = response.data.result.items;\n          data.forEach(function (transaction) {\n            totalPaid += transaction.pricePaid;\n          });\n          postcode.properties.averagePaid = totalPaid ? totalPaid / data.length : 0;\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }, { concurrency: 10 }).then(function () {\n        _this3.generateVoronoi();\n      });\n    },\n    // Given a set of postcode centroids it creates a set of approximated postcode boundaries using a voronoi algorithm\n    generateVoronoi: function generateVoronoi() {\n      var _this4 = this;\n\n      var centroids = [];\n      this.visiblePostcodes.forEach(function (postcode) {\n        centroids.push(postcode.geometry.coordinates);\n      });\n\n      var maxY = this.map.getBounds().getNorthEast().lat() + 0.005;\n      var maxX = this.map.getBounds().getNorthEast().lng() + 0.005;\n      var minY = this.map.getBounds().getSouthWest().lat() - 0.005;\n      var minX = this.map.getBounds().getSouthWest().lng() - 0.005;\n\n      var voronoi = d3voronoi.voronoi().extent([[minX, minY], [maxX, maxY]]);\n      var voronoiPolygons = voronoi(centroids).polygons();\n\n      var postcodePolygons = [];\n      voronoiPolygons.forEach(function (polygon) {\n        // Reverse coordinate order so it conforms to the right-hand rule.\n        // Close the ring by making the last position the same as the first.\n        polygon.reverse().push(polygon[0]);\n        var postcodePolygon = turf.polygon([polygon]);\n        _this4.visiblePostcodes.forEach(function (postcodePoint) {\n          if (turfInside(postcodePoint, postcodePolygon)) {\n            postcodePolygon.id = postcodePoint.id;\n            postcodePolygon.properties = postcodePoint.properties;\n            postcodePolygon.properties.centroid = postcodePoint.geometry.coordinates;\n          }\n        });\n        postcodePolygons.push(postcodePolygon);\n      });\n      this.clearShapes();\n      this.visiblePostcodes = postcodePolygons;\n      this.populateData();\n    },\n    // Removes all the features from the map data layer\n    clearShapes: function clearShapes() {\n      var _this5 = this;\n\n      this.map.data.forEach(function (feature) {\n        _this5.map.data.remove(feature);\n      });\n      this.visiblePostcodes = [];\n    },\n    // Populates the map data layer with the visiblePostcode polygons\n    populateData: function populateData() {\n      var _this6 = this;\n\n      var min = Infinity;\n      var max = -Infinity;\n      this.visiblePostcodes.forEach(function (postcode) {\n        _this6.map.data.addGeoJson(postcode);\n        if (postcode.properties.averagePaid > max) max = postcode.properties.averagePaid;\n        if (postcode.properties.averagePaid < min) min = postcode.properties.averagePaid;\n      });\n      this.setPolygonsColor(min, max);\n    },\n    // Colors the polygons based on the average price paid\n    setPolygonsColor: function setPolygonsColor(min, max) {\n      var bezInterpolator = chroma.scale(['#E8FF3C', '#FF4500', '#D90000']);\n      this.map.data.setStyle(function (feature) {\n        var avgPaid = feature.getProperty('averagePaid');\n        var colorIndex = (avgPaid - min) / (max - min);\n        var color = avgPaid ? bezInterpolator(colorIndex) : '#ffffff';\n        return {\n          fillColor: color,\n          strokeWeight: 1\n        };\n      });\n      this.setOnFeatureClickListener();\n    },\n    // Sets a map data on click listener to open an info window\n    setOnFeatureClickListener: function setOnFeatureClickListener() {\n      var mVue = this;\n      this.map.data.addListener('click', function (event) {\n        if (mVue.infoWindow) {\n          mVue.infoWindow.close();\n        }\n        var centroid = event.feature.getProperty('centroid');\n        var averagePricePaid = mVue.prettyPrintCurrency(event.feature.getProperty('averagePaid'));\n        var message = '<p><b>' + event.feature.getId() + '</b></p>' + ('<p>Average Price Paid: ' + averagePricePaid + '</p>');\n        mVue.infoWindow = new window.google.maps.InfoWindow({\n          content: message,\n          position: new window.google.maps.LatLng(centroid[1], centroid[0])\n        });\n        mVue.postcode = event.feature.getId();\n        mVue.infoWindow.open(mVue.map);\n      });\n      this.populatingData = false;\n    },\n    // Converts a number into a currency string\n    prettyPrintCurrency: function prettyPrintCurrency(amount) {\n      return amount.toLocaleString('en-GB', { style: 'currency', currency: 'GBP', maximumFractionDigits: 2 });\n    }\n  },\n  computed: {\n    postcode: {\n      get: function get() {\n        return this.$store.state.postcode;\n      },\n      set: function set(newPostcode) {\n        this.$store.commit('updatePostcode', newPostcode);\n      }\n    }\n  },\n  watch: {\n    // When mapCenter is updated set the map camera to the new location\n    mapCenter: function mapCenter() {\n      this.map.panTo(this.mapCenter);\n    },\n    // If the updated postcode is of at least the mimimum postcode length update the data layer\n    postcode: function postcode(newPostcode) {\n      var _this7 = this;\n\n      if (newPostcode.length > 5) {\n        this.populatingData = true;\n        this.updateMapCenter().then(function () {\n          _this7.getNearbyPostcodes();\n        });\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 86:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar dc = __webpack_require__(139);\nvar d3 = __webpack_require__(56);\nvar crossfilter = __webpack_require__(131);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      result: this.$store.state.queryResult,\n      statusCode: this.$store.state.queryStatusCode,\n      message: '',\n      requiredFields: ['paon', 'street', 'town', 'county', 'propertyType', 'postcode', 'amount', 'date'],\n      activeView: 'data'\n    };\n  },\n  mounted: function mounted() {\n    var mVue = this;\n    if (this.statusCode > 399) {\n      this.message = '';\n      this.activeView = 'json';\n      return;\n    } else if (this.result.length === 0) {\n      this.message = 'No sales in ' + this.postcode + ' since 01/01/1995';\n      this.activeView = 'json';\n    } else {\n      var hasAllRequiredFields = this.requiredFields.every(function (field) {\n        return mVue.result[0].hasOwnProperty(field);\n      });\n      if (!hasAllRequiredFields) {\n        this.message = 'To visualize the data please return all of the following fields:\\n' + 'paon, street, town, county, propertyType, postcode, amount, date\\n\\n' + 'Query Result as JSON:';\n        this.activeView = 'json';\n      } else {\n        this.visualizeData();\n      }\n    }\n  },\n\n  methods: {\n    // Visualises the data using dc.js and crossfilter\n    // See: https://dc-js.github.io/dc.js/\n    visualizeData: function visualizeData() {\n      var rowChart = dc.rowChart('#rowChart');\n      var barChart = dc.barChart('#barChart');\n      var dataGrid = dc.dataGrid('#dataGrid');\n\n      var ndx = crossfilter(this.result);\n\n      var propertyTypeDimension = ndx.dimension(function (d) {\n        return d.propertyType;\n      });\n      var propertyTypeGroup = propertyTypeDimension.group().reduceCount(function (d) {\n        return d.amount;\n      });\n      var yearDimension = ndx.dimension(function (d) {\n        return d.date.toString().substring(11, 15);\n      });\n      var yearAvgGroup = yearDimension.group().reduce(\n      /* callback for when data is added to the current filter results */\n      function (p, v) {\n        ++p.count;\n        p.total += v.amount;\n        p.average = p.count ? p.total / p.count : 0;\n        return p;\n      },\n      /* callback for when data is removed from the current filter results */\n      function (p, v) {\n        --p.count;\n        p.total -= v.amount;\n        p.average = p.count ? p.total / p.count : 0;\n        return p;\n      },\n      /* initialize p */\n      function () {\n        return {\n          count: 0,\n          total: 0,\n          average: 0\n        };\n      });\n\n      var timeDimension = ndx.dimension(function (d) {\n        return d.date.getTime();\n      });\n\n      var yearDomain = [];\n      for (var i = 1995; i < 2018; i++) {\n        yearDomain.push(i.toString());\n      }\n\n      rowChart.width(260).height(200).group(propertyTypeGroup).dimension(propertyTypeDimension).ordinalColors(['#005E00', '#0F8500', '#35AB17', '#5BD13D', '#81F763']).title(function (d) {\n        return d.propertyType;\n      }).elasticX(true).turnOnControls(true);\n\n      rowChart.xAxis().ticks(5).tickSize(2).tickPadding(10);\n\n      barChart.width(500).height(215).dimension(yearDimension).group(yearAvgGroup).valueAccessor(function (p) {\n        return p.value.average;\n      }).x(d3.scale.ordinal().domain(yearDomain)).xUnits(dc.units.ordinal).elasticY(true).yAxisLabel('').elasticX(true).xAxisLabel('Year').renderHorizontalGridLines(true).gap(1).centerBar(false).margins({ top: 10, right: 0, bottom: 45, left: 65 });\n\n      barChart.xAxis().tickFormat(function (d) {\n        return '\\'' + d.substring(2, 4);\n      }).tickSize(2).tickPadding(10);\n\n      barChart.yAxis().tickFormat(function (d) {\n        return d.toLocaleString('en-GB', {\n          style: 'currency',\n          currency: 'GBP',\n          maximumFractionDigits: 0,\n          minimumFractionDigits: 0\n        });\n      }).tickSize(2);\n\n      dataGrid.dimension(timeDimension).group(function (d) {\n        return d.propertyType;\n      }).html(function (d) {\n        var html = '<div><b>Address:</b> ' + d.paon + ' ' + d.street + '</div>' + ('<div><b>Town:</b> ' + d.town + '</div>') + ('<div><b>County:</b> ' + d.county + '</div>') + ('<div><b>Property Type:</b> ' + d.propertyType + '</div>') + ('<div><b>Price Paid:</b> ' + d.amount.toLocaleString('en-GB', { style: 'currency', currency: 'GBP', maximumFractionDigits: 2 }) + '</div>') + ('<div><b>Date:</b> ' + d.date.getDate() + '/' + (d.date.getMonth() + 1) + '/' + d.date.getFullYear() + '</div>');\n        return html;\n      }).sortBy(function (d) {\n        return d.date.getTime();\n      }).size(1);\n\n      dc.renderAll();\n    }\n  },\n  computed: {\n    postcode: {\n      get: function get() {\n        return this.$store.state.postcode;\n      },\n      set: function set(newPostcode) {\n        this.$store.commit('updatePostcode', newPostcode);\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 87:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(88);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      editorOption: {\n        inputStyle: 'contenteditable',\n        tabSize: 2,\n        foldGutter: true,\n        styleActiveLine: true,\n        lineNumbers: true,\n        line: true,\n        matchBrackets: true,\n        mode: 'application/sparql-query',\n        theme: 'base16-light'\n      }\n    };\n  },\n\n  methods: {\n    // Prforms a click on a result button in bottom navigation\n    runQuery: function runQuery() {\n      var resultButton = document.getElementById('result-button');\n      resultButton.click();\n    },\n    // Returns the string index given a line and character number\n    getIndexAt: function getIndexAt(string, line, char) {\n      var currentLine = 0;\n      for (var x = 0; x < string.length; x++) {\n        if (string[x] === '\\n') {\n          currentLine++;\n          continue;\n        }\n        if (currentLine === line) {\n          return x + char;\n        }\n      }\n    },\n    // Cancels every selection made in the code by forcing the head to equal the anchor\n    onEditorBeforeSelectionChange: function onEditorBeforeSelectionChange(codemirror, changeObject) {\n      var ranges = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(changeObject.ranges));\n      ranges[0].head = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(changeObject.ranges[0].anchor));\n      changeObject.update(ranges);\n    },\n    // Cancels every change that is not a single character input or delete or an external value update\n    onEditorBeforeChange: function onEditorBeforeChange(codemirror, changeObject) {\n      if (changeObject.origin !== '+delete' && changeObject.origin !== '+input' && changeObject.origin !== 'setValue') {\n        changeObject.cancel();\n      }\n    },\n    // Updates queryPrefix, queryPostfix or postcode based on the changes user makes inside the console\n    onEditorChanges: function onEditorChanges(codemirror, changeObjects) {\n      var newEditorState = codemirror.getValue();\n      var postcodeStartIndex = this.queryPrefix.length;\n      var postcodeEndIndex = postcodeStartIndex + this.postcode.length;\n      for (var i = 0; i < changeObjects.length; i++) {\n        var changeObject = changeObjects[i];\n        var changedCharIndex = this.getIndexAt(codemirror.getValue(), changeObject.from.line, changeObject.from.ch);\n        if (changeObject.origin === '+delete') {\n          if (changedCharIndex < postcodeStartIndex) {\n            // Change in query prefix\n            this.queryPrefix = newEditorState.substring(0, postcodeStartIndex - 1);\n          } else if (changedCharIndex < postcodeEndIndex) {\n            // Change in the postcode\n            this.postcode = newEditorState.substring(postcodeStartIndex, postcodeEndIndex - 1);\n          } else {\n            // Change in query postfix\n            this.queryPostfix = newEditorState.substring(postcodeEndIndex, newEditorState.length);\n          }\n        } else if (changeObject.origin === '+input') {\n          if (changedCharIndex < postcodeStartIndex) {\n            // Change in query prefix\n            this.queryPrefix = newEditorState.substring(0, postcodeStartIndex + 1);\n          } else if (changedCharIndex <= postcodeEndIndex) {\n            // Change in the postcode\n            this.postcode = newEditorState.substring(postcodeStartIndex, postcodeEndIndex + 1);\n          } else {\n            // Change in query postfix\n            this.queryPostfix = newEditorState.substring(postcodeEndIndex, newEditorState.length);\n          }\n        }\n      }\n    }\n  },\n  computed: {\n    postcode: {\n      get: function get() {\n        return this.$store.state.postcode;\n      },\n      set: function set(newPostcode) {\n        this.$store.commit('updatePostcode', newPostcode);\n      }\n    },\n    code: {\n      get: function get() {\n        return this.$store.getters.code;\n      }\n    },\n    queryPrefix: {\n      get: function get() {\n        return this.$store.state.queryPrefix;\n      },\n      set: function set(newQueryPrefix) {\n        this.$store.commit('updateQueryPrefix', newQueryPrefix);\n      }\n    },\n    queryPostfix: {\n      get: function get() {\n        return this.$store.state.queryPostfix;\n      },\n      set: function set(newQueryPostfix) {\n        this.$store.commit('updateQueryPostfix', newQueryPostfix);\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 95:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./meta.js\": 43,\n\t\"./sparql/sparql.js\": 96\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 95;\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./base16-dark.css\": 141,\n\t\"./base16-light.css\": 142\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 97;\n\n/***/ })\n\n},[82]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.76843489fb92a9c5f188.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3cc16e99\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GoogleMap.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoogleMap.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3cc16e99\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./GoogleMap.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-3cc16e99\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/GoogleMap.vue\n// module id = 150\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d486ec8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ResultView.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ResultView.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1d486ec8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ResultView.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ResultView.vue\n// module id = 151\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3dee24e4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SparqlConsole.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SparqlConsole.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3dee24e4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SparqlConsole.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SparqlConsole.vue\n// module id = 152\n// module chunks = 1","var Component = require(\"!../../vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../vue-loader/lib/selector?type=script&index=0!./codemirror.vue\"),\n  /* template */\n  require(\"!!../../vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6132d232\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../vue-loader/lib/selector?type=template&index=0!./codemirror.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-codemirror/src/codemirror.vue\n// module id = 153\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"result-view\"\n  }, [(_vm.activeView === 'data') ? _c('div', {\n    attrs: {\n      \"id\": \"visualization\"\n    }\n  }, [_vm._m(0), _vm._v(\" \"), _vm._m(1)]) : (_vm.activeView === 'json') ? _c('div', {\n    staticClass: \"result-view\",\n    attrs: {\n      \"id\": \"json\"\n    }\n  }, [_c('pre', [_vm._v(_vm._s(_vm.message))]), _vm._v(\" \"), _c('pre', [_vm._v(_vm._s(_vm.result))])]) : _vm._e()])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"rowChartDataTable\"\n    }\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('span', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Number of Sales per Property Type\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"rowChart\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"grid\"\n  }, [_c('span', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Latest Property Sale\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"dataGrid\"\n    }\n  })])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"bar\"\n  }, [_c('span', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Average Price Paid per Year\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"barChart\"\n    }\n  })])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1d486ec8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ResultView.vue\n// module id = 154\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"google-map\",\n    attrs: {\n      \"id\": \"gmap\"\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-3cc16e99\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/GoogleMap.vue\n// module id = 155\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"sparql-console\"\n  }, [_c('codemirror', {\n    attrs: {\n      \"id\": \"codemirror\",\n      \"options\": _vm.editorOption\n    },\n    on: {\n      \"changes\": _vm.onEditorChanges,\n      \"beforeChange\": _vm.onEditorBeforeChange,\n      \"beforeSelectionChange\": _vm.onEditorBeforeSelectionChange\n    },\n    model: {\n      value: (_vm.code),\n      callback: function($$v) {\n        _vm.code = $$v\n      },\n      expression: \"code\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"my-fab\"\n  }, [_c('md-button', {\n    staticClass: \"md-fab md-primary\",\n    on: {\n      \"click\": _vm.runQuery\n    }\n  }, [_c('md-icon', [_vm._v(\"play_arrow\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-3dee24e4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/SparqlConsole.vue\n// module id = 156\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('textarea')\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6132d232\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./~/vue-codemirror/src/codemirror.vue\n// module id = 157\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('div', [_c('md-input-container', [_c('label', [_vm._v(\"Postcode\")]), _vm._v(\" \"), _c('md-input', {\n    model: {\n      value: (_vm.selectedPostcode),\n      callback: function($$v) {\n        _vm.selectedPostcode = $$v\n      },\n      expression: \"selectedPostcode\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', [(_vm.currentView === 'map') ? _c('div', [_c('GoogleMap', {\n    ref: \"gmap\",\n    attrs: {\n      \"id\": \"gmap\"\n    }\n  })], 1) : (_vm.currentView === 'query') ? _c('div', [_c('SparqlConsole', {\n    attrs: {\n      \"id\": \"console\"\n    },\n    on: {\n      \"runQuery\": _vm.runQuery\n    }\n  })], 1) : _c('div', [_c('ResultView', {\n    attrs: {\n      \"id\": \"result\"\n    }\n  })], 1)]), _vm._v(\" \"), _c('md-bottom-bar', [_c('md-bottom-bar-item', {\n    attrs: {\n      \"md-icon\": \"map\",\n      \"id\": \"map-button\",\n      \"md-active\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.currentView = 'map'\n      }\n    }\n  }, [_vm._v(\"Map\")]), _vm._v(\" \"), _c('md-bottom-bar-item', {\n    attrs: {\n      \"md-icon\": \"code\",\n      \"id\": \"query-button\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.currentView = 'query'\n      }\n    }\n  }, [_vm._v(\"Query\")]), _vm._v(\" \"), _c('md-bottom-bar-item', {\n    attrs: {\n      \"md-icon\": \"equalizer\",\n      \"id\": \"result-button\"\n    },\n    on: {\n      \"click\": _vm.runQuery\n    }\n  }, [_vm._v(\"Result\")])], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-67ca3ec2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 158\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-67ca3ec2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-67ca3ec2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 59\n// module chunks = 1","// Required for IE11\nimport es6Promise from 'es6-promise'\nes6Promise.polyfill()\n\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport VueMaterial from 'vue-material'\nimport VueCodeMirror from 'vue-codemirror'\nimport App from './App'\n\nVue.config.productionTip = false\n\nVue.use(Vuex)\nVue.use(VueMaterial)\nVue.use(VueCodeMirror)\n\nconst store = new Vuex.Store({\n  state: {\n    postcode: '',\n    queryPrefix: 'prefix xsd: <http://www.w3.org/2001/XMLSchema#>\\n' +\n                  'prefix ukhpi: <http://landregistry.data.gov.uk/def/ukhpi/>\\n' +\n                  'prefix lrppi: <http://landregistry.data.gov.uk/def/ppi/>\\n' +\n                  'prefix skos: <http://www.w3.org/2004/02/skos/core#>\\n' +\n                  'prefix lrcommon: <http://landregistry.data.gov.uk/def/common/>\\n' +\n                  '\\n' +\n                  'SELECT ?paon ?saon ?street ?town ?county ?propertyType ?postcode ?amount ?date ?category\\n' +\n                  'WHERE\\n' +\n                  '{\\n' +\n                  '  VALUES ?postcode {\"',\n    queryPostfix: '\"^^xsd:string}\\n' +\n                  '\\n' +\n                  '  ?addr lrcommon:postcode ?postcode.\\n' +\n                  '\\n' +\n                  '  ?transx lrppi:propertyAddress ?addr ;\\n' +\n                  '  lrppi:pricePaid ?amount ;\\n' +\n                  '  lrppi:propertyType/skos:prefLabel ?propertyType ;\\n' +\n                  '  lrppi:transactionDate ?date ;\\n' +\n                  '  lrppi:transactionCategory/skos:prefLabel ?category.\\n' +\n                  '\\n' +\n                  '  OPTIONAL {?addr lrcommon:county ?county}\\n' +\n                  '  OPTIONAL {?addr lrcommon:paon ?paon}\\n' +\n                  '  OPTIONAL {?addr lrcommon:saon ?saon}\\n' +\n                  '  OPTIONAL {?addr lrcommon:street ?street}\\n' +\n                  '  OPTIONAL {?addr lrcommon:town ?town}\\n' +\n                  '}',\n    queryResult: {},\n    queryStatusCode: 0\n  },\n  mutations: {\n    updatePostcode (state, postcode) {\n      state.postcode = postcode\n    },\n    updateQueryResult (state, result) {\n      state.queryResult = result\n    },\n    updateQueryStatusCode (state, status) {\n      state.queryStatusCode = status\n    },\n    updateQueryPrefix (state, queryPrefix) {\n      state.queryPrefix = queryPrefix\n    },\n    updateQueryPostfix (state, queryPostfix) {\n      state.queryPostfix = queryPostfix\n    }\n  },\n  getters: {\n    code: state => {\n      return state.queryPrefix + state.postcode + state.queryPostfix\n    },\n    queryResult: state => {\n      return state.queryResult\n    }\n  }\n})\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  store,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <textarea></textarea>\n</template>\n\n<script>\n  window.CodeMirror = require('codemirror')\n  require('codemirror/lib/codemirror.css')\n  require('codemirror/mode/meta')\n  export default {\n    name: 'codemirror',\n    data: function() {\n      return {\n        content: ''\n      }\n    },\n    props: {\n      code: String,\n      value: String,\n      unseenLines: Array,\n      marker: Function,\n      loadtheme: {\n        type: Boolean,\n        default: function() {\n          return true\n        }\n      },\n      debugger: {\n        type: Boolean,\n        default: function() {\n          return true\n        }\n      },\n      options: {\n        type: Object,\n        required: true\n      },\n    },\n    created: function() {\n\n      if (this.options.lineNumbers === undefined) {\n        this.options.lineNumbers = true\n      }\n      if (this.options.lineWrapping === undefined) {\n        this.options.lineWrapping = false\n      }\n      if (this.options.mode === undefined) {\n        this.options.mode = 'text/javascript'\n      }\n\n      var theme = this.options.theme\n      var language = this.options.mode\n      var _debugger = this.debugger\n      var _loadtheme = this.loadtheme\n      var isCustomMode = !!CodeMirror.modes[language]\n\n      // theme config\n      if (theme && theme == 'solarized light') {\n        theme = 'solarized'\n      }\n\n      // console.log(language, CodeMirror.modes.simplemode)\n\n      // language string config\n      if (typeof language == 'string') {\n        var lang = CodeMirror.findModeByMIME(language)\n        language = !lang ? lang : lang.mode\n\n      // language object config\n      } else if (typeof language == 'object') {\n\n        if (language.name) {\n          var lang = CodeMirror.findModeByName(language.name)\n          if (lang) {\n            language = lang.mode\n            // this.options.mode = language\n          } else {\n            language = null\n          }\n        } else if (language.ext) {\n          var lang = CodeMirror.findModeByExtension(language.ext)\n          if (lang) {\n            language = lang.mode\n            // this.options.mode = language\n          } else {\n            language = null\n          }\n        } else if (language.mime) {\n          var lang = CodeMirror.findModeByMIME(language.mime)\n          if (lang) {\n            language = lang.mode\n            // this.options.mode = language\n          } else {\n            language = null\n          }\n        } else if (language.filename) {\n          var lang = CodeMirror.findModeByFileName(language.filename)\n          if (lang) {\n            language = lang.mode\n            // this.options.mode = language\n          } else {\n            language = null\n          }\n        }\n      }\n      \n      // console.log('language', language, isCustomMode)\n\n      if ((!language || language == 'null') && _debugger && !isCustomMode) {\n        console.warn('CodeMirror language mode: ' + language + ' configuration error (CodeMirror语言模式配置错误，或者不支持此语言) See http://codemirror.net/mode/ for more details.')\n        // return false\n      }\n\n      // console.log(language, theme)\n\n      // require language\n      if (language && language !== 'null') {\n        require('codemirror/mode/' + language + '/' + language + '.js')\n      }\n\n      // require theme\n      if (theme && _loadtheme) {\n        require('codemirror/theme/' + theme + '.css')\n      }\n    },\n    mounted: function() {\n      var _this = this\n      this.editor = CodeMirror.fromTextArea(this.$el, this.options)\n      this.editor.setValue(this.code || this.value || this.content)\n      this.editor.on('change', function(cm) {\n        _this.content = cm.getValue()\n        if (!!_this.$emit) {\n          _this.$emit('change', _this.content)\n          _this.$emit('input', _this.content)\n        }\n      })\n      var events = [\n        'changes',\n        'beforeChange',\n        'cursorActivity',\n        'keyHandled',\n        'inputRead',\n        'electricInput',\n        'beforeSelectionChange',\n        'viewportChange',\n        'swapDoc',\n        'gutterClick',\n        'gutterContextMenu',\n        'focus',\n        'blur',\n        'refresh',\n        'optionChange',\n        'scrollCursorIntoView',\n        'update'\n      ]\n      for (var i = events.length - 1; i >= 0; i--) {\n        (function(event) {\n          _this.editor.on(event, function(a, b, c) {\n            _this.$emit(event, a, b, c)\n          })\n        })(events[i])\n      }\n      this.$emit('ready', this.editor)\n      this.unseenLineMarkers()\n\n      // prevents funky dynamic rendering\n      window.setTimeout(function() {\n        _this.editor.refresh()\n      }, 0)\n    },\n    beforeDestroy: function() {\n      \n      // garbage cleanup\n      const element = this.editor.doc.cm.getWrapperElement()\n      if (element && element.remove) {\n        element.remove()\n      }\n    },\n    watch: {\n      options: {\n        deep: true,\n        handler(options, oldOptions) {\n          var key\n          for (key in options) {\n            this.editor.setOption(key, options[key])\n          }\n        }\n      },\n      code: function(newVal, oldVal) {\n        const editor_value = this.editor.getValue()\n        if (newVal !== editor_value) {\n          var scrollInfo = this.editor.getScrollInfo()\n          this.editor.setValue(newVal)\n          this.content = newVal\n          this.editor.scrollTo(scrollInfo.left, scrollInfo.top)\n        }\n        this.unseenLineMarkers()\n      },\n      value: function(newVal, oldVal) {\n        const editor_value = this.editor.getValue()\n        if (newVal !== editor_value) {\n          var scrollInfo = this.editor.getScrollInfo()\n          this.editor.setValue(newVal)\n          this.content = newVal\n          this.editor.scrollTo(scrollInfo.left, scrollInfo.top)\n        }\n        this.unseenLineMarkers()\n      }\n    },\n    methods: {\n      refresh: function() {\n        this.editor.refresh()\n      },\n      unseenLineMarkers: function () {\n        var _this = this\n        if (_this.unseenLines !== undefined && _this.marker !== undefined) {\n          _this.unseenLines.forEach(line => {\n            var info = _this.editor.lineInfo(line)\n            _this.editor.setGutterMarker(line, \"breakpoints\", info.gutterMarkers ? null : _this.marker())\n          })\n        }\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// codemirror.vue?318e7c2a","<template>\n  <div id=\"app\">\n    <div>\n      <md-input-container>\n          <label>Postcode</label>\n        <md-input v-model=\"selectedPostcode\"></md-input>\n      </md-input-container>\n    </div>\n    <div>\n      <div v-if=\"currentView==='map'\">\n        <GoogleMap id=\"gmap\" ref=\"gmap\"></GoogleMap>\n      </div>\n      <div v-else-if=\"currentView==='query'\">\n        <SparqlConsole id=\"console\" v-on:runQuery=\"runQuery\"></SparqlConsole>\n      </div>\n      <div v-else>\n        <ResultView id=\"result\"></ResultView>\n      </div>\n    </div>\n    <md-bottom-bar>\n      <md-bottom-bar-item md-icon=\"map\" id=\"map-button\" @click=\"currentView='map'\" md-active>Map</md-bottom-bar-item>\n      <md-bottom-bar-item md-icon=\"code\" id=\"query-button\" @click=\"currentView='query'\">Query</md-bottom-bar-item>\n      <md-bottom-bar-item md-icon=\"equalizer\" id=\"result-button\" @click=\"runQuery\">Result</md-bottom-bar-item>\n    </md-bottom-bar>\n  </div>\n</template>\n\n<script>\n  const axios = require('axios')\n\n  import GoogleMap from '@/components/GoogleMap'\n  import SparqlConsole from '@/components/SparqlConsole'\n  import ResultView from '@/components/ResultView'\n\n  export default {\n    name: 'app',\n    data () {\n      return {\n        currentView: 'map'\n      }\n    },\n    components: {\n      GoogleMap,\n      SparqlConsole,\n      ResultView\n    },\n    methods: {\n      // Opens the result tab by clicking on the bottom menu item\n      openResult: function () {\n        const resultButton = document.getElementById('result-button')\n        resultButton.click()\n      },\n      // Runs the query found in sparql console and updates Vuex state of the response code and the response itself\n      runQuery: function () {\n        const mVue = this\n        const url = `http://landregistry.data.gov.uk/landregistry/query?query=${encodeURIComponent(mVue.code)}`\n        axios.get(url, {\n          headers: {\n            'Accept': 'application/sparql-results+json'\n          }\n        }).then(function (response) {\n          const data = mVue.parseQueryResult(response.data.results.bindings)\n          mVue.$store.commit('updateQueryStatusCode', response.status)\n          mVue.$store.commit('updateQueryResult', data)\n        }).catch((error) => {\n          if (error) {\n            mVue.$store.commit('updateQueryStatusCode', error.response.status)\n            mVue.$store.commit('updateQueryResult', error.response.data)\n          }\n        })\n      },\n      // Strips down sparql query result to a simple json form\n      parseQueryResult: function (result) {\n        const mVue = this\n        return result.map(function (row) {\n          var rowObject = {}\n          Object.keys(row).forEach(function (column) {\n            rowObject[column] = mVue.dataTypeCast(row[column])\n          })\n          return rowObject\n        })\n      },\n      // Casts an object value into a corresponding data type found in the object properties\n      dataTypeCast: function (obj) {\n        const xmlSchema = 'http://www.w3.org/2001/XMLSchema#'\n        var value = obj.value\n        if (typeof obj.datatype === 'undefined') {\n          return value\n        }\n        var dataType = obj.datatype.replace(xmlSchema, '')\n        switch (dataType) {\n          case 'string':\n            value = new String(value) // eslint-disable-line\n            break\n          case 'boolean':\n            value = new Boolean(value === 'false' ? false : value) // eslint-disable-line\n            break\n          case 'float':\n          case 'integer':\n          case 'long':\n          case 'double':\n          case 'decimal':\n          case 'nonPositiveInteger':\n          case 'nonNegativeInteger':\n          case 'negativeInteger':\n          case 'int':\n          case 'unsignedLong':\n          case 'positiveInteger':\n          case 'short':\n          case 'unsignedInt':\n          case 'byte':\n          case 'unsignedShort':\n          case 'unsignedByte':\n            value = new Number(value) // eslint-disable-line\n            break\n          case 'date':\n          case 'time':\n          case 'dateTime':\n            value = new Date(value)\n            break\n        }\n        return value\n      }\n    },\n    computed: {\n      selectedPostcode: {\n        get: function () {\n          return this.$store.state.postcode\n        },\n        set: function (newPostcode) {\n          this.$store.commit('updatePostcode', newPostcode)\n        }\n      },\n      queryResult: {\n        get: function () {\n          return this.$store.state.queryResult\n        }\n      },\n      code: {\n        get: function () {\n          return this.$store.getters.code\n        }\n      }\n    },\n    watch: {\n      // As soon as the state of queryResult is updated open the results view\n      queryResult: function () {\n        this.currentView = 'result'\n      }\n    }\n  }\n</script>\n\n<style>\n@import \"../node_modules/vue-material/dist/vue-material.css\";\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin: auto;\n  width: 550px;\n  height: 600px;\n  box-shadow: 1px 2px 2px 0px rgba(0,0,0,0.11);\n}\n\nh1, h2 {\n  font-weight: normal;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\na {\n  color: #42b983;\n}\n\n.md-bottom-bar {\n  box-shadow: 0px 0px 0px 0px rgba(0,0,0,0);\n}\n\n.md-bottom-bar-item {\n  max-width: 200px\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?bfd554fc","<template>\n  <div class=\"google-map\" id=\"gmap\"></div>\n</template>\n\n<script>\nconst chroma = require('chroma-js')\nconst turf = require('@turf/helpers')\nconst turfInside = require('@turf/inside')\nconst d3voronoi = require('d3-voronoi')\nconst axios = require('axios')\nconst Promise = require('bluebird')\n\nexport default {\n  name: 'google-map',\n  data () {\n    return {\n      visiblePostcodes: [],\n      map: {},\n      mapCenter: new window.google.maps.LatLng(51.46040383078197, -2.6015971891367826),\n      infoWindow: new window.google.maps.InfoWindow(),\n      populatingData: false\n    }\n  },\n  mounted () {\n    this.updateMapCenter()\n    const mVue = this\n    const element = document.getElementById('gmap')\n    const options = {\n      zoom: 17,\n      center: this.mapCenter,\n      disableDefaultUI: true,\n      zoomControl: true,\n      minZoom: 17,\n      maxZoom: 18\n    }\n    const map = new window.google.maps.Map(element, options)\n    // Map on idle listener updates the data layer\n    map.addListener('idle', function () {\n      if (!mVue.populatingData) {\n        mVue.mapCenter = map.getCenter()\n        mVue.getNearbyPostcodes()\n      }\n    })\n    mVue.map = map\n  },\n  methods: {\n    // Updates the map center to match the given postcode centroid\n    updateMapCenter: function () {\n      if (this.postcode.length < 6) return\n      const url = `https://api.postcodes.io/postcodes/${this.postcode}`\n      return axios.get(url).then((response) => {\n        this.mapCenter = new window.google.maps.LatLng(response.data.result.latitude, response.data.result.longitude)\n      }).catch((error) => {\n        console.log(error)\n      })\n    },\n    // Updates a list of visible postcodes with geoJSON points representing postcode centroids which are returned from the API call\n    getNearbyPostcodes: function () {\n      this.visiblePostcodes = []\n      const url = `https://api.postcodes.io/postcodes?lon=${this.mapCenter.lng()}&lat=${this.mapCenter.lat()}&radius=300&limit=99`\n      axios.get(url).then((response) => {\n        response.data.result.forEach((result) => {\n          var postcode = turf.point([result.longitude, result.latitude])\n          postcode.id = result.postcode\n          this.visiblePostcodes.push(postcode)\n        })\n      }).then(() => {\n        this.populateURLs()\n      }).catch((error) => {\n        console.log(error)\n      })\n    },\n    // Loops through visiblePostcodes and generates an url for querying the land registry api\n    populateURLs: function () {\n      this.visiblePostcodes.forEach((postcode) => {\n        var url = `http://landregistry.data.gov.uk/data/ppi/transaction-record.json?_page=0&propertyAddress.postcode=${postcode.id}&_pageSize=50`\n        url = url.replace(` `, `%20`)\n        postcode.properties.url = url\n      })\n      this.getData()\n    },\n    // Runs an API call for all visible postcodes and calculates the average price paid\n    getData: function () {\n      Promise.map(this.visiblePostcodes, postcode => axios.get(postcode.properties.url).then((response) => {\n        var totalPaid = 0\n        const data = response.data.result.items\n        data.forEach((transaction) => {\n          totalPaid += transaction.pricePaid\n        })\n        postcode.properties.averagePaid = (totalPaid) ? totalPaid / data.length : 0\n      }).catch((error) => {\n        console.log(error)\n      }), { concurrency: 10 }).then(() => {\n        this.generateVoronoi()\n      })\n    },\n    // Given a set of postcode centroids it creates a set of approximated postcode boundaries using a voronoi algorithm\n    generateVoronoi: function () {\n      var centroids = []\n      this.visiblePostcodes.forEach((postcode) => {\n        centroids.push(postcode.geometry.coordinates)\n      })\n\n      const maxY = this.map.getBounds().getNorthEast().lat() + 0.005\n      const maxX = this.map.getBounds().getNorthEast().lng() + 0.005\n      const minY = this.map.getBounds().getSouthWest().lat() - 0.005\n      const minX = this.map.getBounds().getSouthWest().lng() - 0.005\n\n      let voronoi = d3voronoi.voronoi().extent([[minX, minY], [maxX, maxY]])\n      let voronoiPolygons = voronoi(centroids).polygons()\n\n      var postcodePolygons = []\n      voronoiPolygons.forEach((polygon) => {\n        // Reverse coordinate order so it conforms to the right-hand rule.\n        // Close the ring by making the last position the same as the first.\n        polygon.reverse().push(polygon[0])\n        var postcodePolygon = turf.polygon([polygon])\n        this.visiblePostcodes.forEach((postcodePoint) => {\n          if (turfInside(postcodePoint, postcodePolygon)) {\n            postcodePolygon.id = postcodePoint.id\n            postcodePolygon.properties = postcodePoint.properties\n            postcodePolygon.properties.centroid = postcodePoint.geometry.coordinates\n          }\n        })\n        postcodePolygons.push(postcodePolygon)\n      })\n      this.clearShapes()\n      this.visiblePostcodes = postcodePolygons\n      this.populateData()\n    },\n    // Removes all the features from the map data layer\n    clearShapes: function () {\n      this.map.data.forEach((feature) => {\n        this.map.data.remove(feature)\n      })\n      this.visiblePostcodes = []\n    },\n    // Populates the map data layer with the visiblePostcode polygons\n    populateData: function () {\n      var min = Infinity\n      var max = -Infinity\n      this.visiblePostcodes.forEach((postcode) => {\n        this.map.data.addGeoJson(postcode)\n        if (postcode.properties.averagePaid > max) max = postcode.properties.averagePaid\n        if (postcode.properties.averagePaid < min) min = postcode.properties.averagePaid\n      })\n      this.setPolygonsColor(min, max)\n    },\n    // Colors the polygons based on the average price paid\n    setPolygonsColor: function (min, max) {\n      const bezInterpolator = chroma.scale(['#E8FF3C', '#FF4500', '#D90000'])\n      this.map.data.setStyle((feature) => {\n        const avgPaid = feature.getProperty('averagePaid')\n        var colorIndex = (avgPaid - min) / (max - min)\n        var color = (avgPaid) ? bezInterpolator(colorIndex) : '#ffffff'\n        return {\n          fillColor: color,\n          strokeWeight: 1\n        }\n      })\n      this.setOnFeatureClickListener()\n    },\n    // Sets a map data on click listener to open an info window\n    setOnFeatureClickListener: function () {\n      const mVue = this\n      this.map.data.addListener('click', function (event) {\n        if (mVue.infoWindow) {\n          mVue.infoWindow.close()\n        }\n        const centroid = event.feature.getProperty('centroid')\n        const averagePricePaid = mVue.prettyPrintCurrency(event.feature.getProperty('averagePaid'))\n        const message = `<p><b>${event.feature.getId()}</b></p>` +\n                        `<p>Average Price Paid: ${averagePricePaid}</p>`\n        mVue.infoWindow = new window.google.maps.InfoWindow({\n          content: message,\n          position: new window.google.maps.LatLng(centroid[1], centroid[0])\n        })\n        mVue.postcode = event.feature.getId()\n        mVue.infoWindow.open(mVue.map)\n      })\n      this.populatingData = false\n    },\n    // Converts a number into a currency string\n    prettyPrintCurrency: function (amount) {\n      return amount.toLocaleString('en-GB', { style: 'currency', currency: 'GBP', maximumFractionDigits: 2 })\n    }\n  },\n  computed: {\n    postcode: {\n      get: function () {\n        return this.$store.state.postcode\n      },\n      set: function (newPostcode) {\n        this.$store.commit('updatePostcode', newPostcode)\n      }\n    }\n  },\n  watch: {\n    // When mapCenter is updated set the map camera to the new location\n    mapCenter: function () {\n      this.map.panTo(this.mapCenter)\n    },\n    // If the updated postcode is of at least the mimimum postcode length update the data layer\n    postcode: function (newPostcode) {\n      if (newPostcode.length > 5) {\n        this.populatingData = true\n        this.updateMapCenter().then(() => {\n          this.getNearbyPostcodes()\n        })\n      }\n    }\n  }\n}\n</script> \n\n<style scoped>\n.google-map {\n  width: 550px;\n  height: 470px;\n  margin: 0 auto;\n  background: gray;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// GoogleMap.vue?77c08d39","<template>\n  <div class=\"result-view\">\n    <div id=\"visualization\" v-if=\"activeView==='data'\">\n      <div id=\"rowChartDataTable\">\n        <div class=\"row\">\n          <span class=\"title\">Number of Sales per Property Type</span>\n          <div id=\"rowChart\"></div>\n        </div>\n        <div class=\"grid\">\n          <span class=\"title\">Latest Property Sale</span>\n          <div id=\"dataGrid\"></div>\n        </div>\n      </div>\n      <div class=\"bar\">\n        <span class=\"title\">Average Price Paid per Year</span>\n        <div id=\"barChart\"></div>\n      </div>\n    </div>\n    <div class=\"result-view\" id=\"json\" v-else-if=\"activeView==='json'\">\n      <pre>{{message}}</pre>\n      <pre>{{result}}</pre>\n    </div>\n  </div>\n</template>\n\n<script>\n  const dc = require('dc')\n  const d3 = require('d3')\n  const crossfilter = require('crossfilter')\n  \n  export default {\n    data () {\n      return {\n        result: this.$store.state.queryResult,\n        statusCode: this.$store.state.queryStatusCode,\n        message: '',\n        requiredFields: ['paon', 'street', 'town', 'county', 'propertyType', 'postcode', 'amount', 'date'],\n        activeView: 'data'\n      }\n    },\n    mounted () {\n      const mVue = this\n      if (this.statusCode > 399) {\n        this.message = ''\n        this.activeView = 'json'\n        return\n      } else if (this.result.length === 0) {\n        this.message = `No sales in ${this.postcode} since 01/01/1995`\n        this.activeView = 'json'\n      } else {\n        var hasAllRequiredFields = this.requiredFields.every(function (field) {\n          return mVue.result[0].hasOwnProperty(field)\n        })\n        if (!hasAllRequiredFields) {\n          this.message = 'To visualize the data please return all of the following fields:\\n' +\n                         'paon, street, town, county, propertyType, postcode, amount, date\\n\\n' +\n                         'Query Result as JSON:'\n          this.activeView = 'json'\n        } else {\n          this.visualizeData()\n        }\n      }\n    },\n    methods: {\n      // Visualises the data using dc.js and crossfilter\n      // See: https://dc-js.github.io/dc.js/\n      visualizeData: function () {\n        var rowChart = dc.rowChart('#rowChart')\n        var barChart = dc.barChart('#barChart')\n        var dataGrid = dc.dataGrid('#dataGrid')\n\n        var ndx = crossfilter(this.result)\n\n        var propertyTypeDimension = ndx.dimension(function (d) {\n          return d.propertyType\n        })\n        var propertyTypeGroup = propertyTypeDimension.group().reduceCount(function (d) {\n          return d.amount\n        })\n        var yearDimension = ndx.dimension(function (d) {\n          return d.date.toString().substring(11, 15)\n        })\n        var yearAvgGroup = yearDimension.group().reduce(\n          /* callback for when data is added to the current filter results */\n          function (p, v) {\n            ++p.count\n            p.total += v.amount\n            p.average = p.count ? p.total / p.count : 0\n            return p\n          },\n          /* callback for when data is removed from the current filter results */\n          function (p, v) {\n            --p.count\n            p.total -= v.amount\n            p.average = p.count ? p.total / p.count : 0\n            return p\n          },\n          /* initialize p */\n          function () {\n            return {\n              count: 0,\n              total: 0,\n              average: 0\n            }\n          }\n        )\n\n        var timeDimension = ndx.dimension(function (d) {\n          return d.date.getTime()\n        })\n\n        var yearDomain = []\n        for (var i = 1995; i < 2018; i++) {\n          yearDomain.push(i.toString())\n        }\n\n        rowChart\n          .width(260)\n          .height(200)\n          .group(propertyTypeGroup)\n          .dimension(propertyTypeDimension)\n          .ordinalColors(['#005E00', '#0F8500', '#35AB17', '#5BD13D', '#81F763'])\n          .title(function (d) {\n            return d.propertyType\n          })\n          .elasticX(true)\n          .turnOnControls(true)\n\n        rowChart.xAxis()\n          .ticks(5)\n          .tickSize(2)\n          .tickPadding(10)\n\n        barChart\n          .width(500)\n          .height(215)\n          .dimension(yearDimension)\n          .group(yearAvgGroup)\n          .valueAccessor(function (p) {\n            return p.value.average\n          })\n          .x(d3.scale.ordinal().domain(yearDomain))\n          .xUnits(dc.units.ordinal)\n          .elasticY(true)\n          .yAxisLabel('')\n          .elasticX(true)\n          .xAxisLabel('Year')\n          .renderHorizontalGridLines(true)\n          .gap(1)\n          .centerBar(false)\n          .margins({top: 10, right: 0, bottom: 45, left: 65})\n\n        barChart.xAxis()\n          .tickFormat(d => '\\'' + d.substring(2, 4))\n          .tickSize(2)\n          .tickPadding(10)\n\n        barChart.yAxis()\n          .tickFormat(d => d.toLocaleString('en-GB', {\n            style: 'currency',\n            currency: 'GBP',\n            maximumFractionDigits: 0,\n            minimumFractionDigits: 0\n          }))\n          .tickSize(2)\n\n        dataGrid\n          .dimension(timeDimension)\n          .group(function (d) {\n            return d.propertyType\n          })\n          .html(function (d) {\n            const html = `<div><b>Address:</b> ${d.paon} ${d.street}</div>` +\n              `<div><b>Town:</b> ${d.town}</div>` +\n              `<div><b>County:</b> ${d.county}</div>` +\n              `<div><b>Property Type:</b> ${d.propertyType}</div>` +\n              `<div><b>Price Paid:</b> ${d.amount.toLocaleString('en-GB', { style: 'currency', currency: 'GBP', maximumFractionDigits: 2 })}</div>` +\n              `<div><b>Date:</b> ${d.date.getDate()}/${d.date.getMonth() + 1}/${d.date.getFullYear()}</div>`\n            return html\n          })\n          .sortBy(function (d) {\n            return d.date.getTime()\n          })\n          .size(1)\n\n        dc.renderAll()\n      }\n    },\n    computed: {\n      postcode: {\n        get: function () {\n          return this.$store.state.postcode\n        },\n        set: function (newPostcode) {\n          this.$store.commit('updatePostcode', newPostcode)\n        }\n      }\n    }\n  }\n</script>\n\n<style>\n@import \"../../node_modules/dc/dc.css\";\n\n.result-view {\n  width: 550px;\n  height: 470px;\n  text-align: left;\n  font-size: 13px;\n}\n\n#rowChartDataTable {\n  width: 490px;\n  height: 235px;\n  margin-top: -10px;\n  margin-right: 40px;\n  margin-left: 20px;\n  word-wrap: break-word;\n  float: left;\n}\n\n#try {\n  word-wrap: break-word;\n}\n\n.row {\n  float: left;\n  text-align: center;\n  margin-right: 10px;\n}\n\n.grid {\n  overflow: hidden;\n}\n\n.bar {\n  margin-left: 20px;\n}\n\n#json {\n  overflow-x: scroll;\n  overflow-y: scroll;\n}\n\n#block {\n  display: block;\n}\n\n.dc-grid-group {\n  visibility: collapse;\n  margin-bottom: -40px;\n}\n\n.title {\n  display: block;\n  text-align: center;\n  font-size: 15px;\n  font-weight: bold;\n}\n\n</style>\n\n\n// WEBPACK FOOTER //\n// ResultView.vue?45e2cd98","<template>\n  <div class=\"sparql-console\">\n    <codemirror id=\"codemirror\"\n                v-model=\"code\" \n                :options=\"editorOption\"\n                @changes=\"onEditorChanges\"\n                @beforeChange=\"onEditorBeforeChange\"\n                @beforeSelectionChange=\"onEditorBeforeSelectionChange\">\n    </codemirror>\n    <div class=\"my-fab\">\n      <md-button @click=\"runQuery\" class=\"md-fab md-primary\">\n        <md-icon>play_arrow</md-icon>\n      </md-button>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    data () {\n      return {\n        editorOption: {\n          inputStyle: 'contenteditable',\n          tabSize: 2,\n          foldGutter: true,\n          styleActiveLine: true,\n          lineNumbers: true,\n          line: true,\n          matchBrackets: true,\n          mode: 'application/sparql-query',\n          theme: 'base16-light'\n        }\n      }\n    },\n    methods: {\n      // Prforms a click on a result button in bottom navigation\n      runQuery: function () {\n        const resultButton = document.getElementById('result-button')\n        resultButton.click()\n      },\n      // Returns the string index given a line and character number\n      getIndexAt: function (string, line, char) {\n        var currentLine = 0\n        for (var x = 0; x < string.length; x++) {\n          if (string[x] === '\\n') {\n            currentLine++\n            continue\n          }\n          if (currentLine === line) {\n            return x + char\n          }\n        }\n      },\n      // Cancels every selection made in the code by forcing the head to equal the anchor\n      onEditorBeforeSelectionChange: function (codemirror, changeObject) {\n        const ranges = JSON.parse(JSON.stringify(changeObject.ranges))\n        ranges[0].head = JSON.parse(JSON.stringify(changeObject.ranges[0].anchor))\n        changeObject.update(ranges)\n      },\n      // Cancels every change that is not a single character input or delete or an external value update\n      onEditorBeforeChange: function (codemirror, changeObject) {\n        if (changeObject.origin !== '+delete' && changeObject.origin !== '+input' && changeObject.origin !== 'setValue') {\n          changeObject.cancel()\n        }\n      },\n      // Updates queryPrefix, queryPostfix or postcode based on the changes user makes inside the console\n      onEditorChanges: function (codemirror, changeObjects) {\n        const newEditorState = codemirror.getValue()\n        const postcodeStartIndex = this.queryPrefix.length\n        const postcodeEndIndex = postcodeStartIndex + this.postcode.length\n        for (var i = 0; i < changeObjects.length; i++) {\n          const changeObject = changeObjects[i]\n          const changedCharIndex = this.getIndexAt(codemirror.getValue(), changeObject.from.line, changeObject.from.ch)\n          if (changeObject.origin === '+delete') {\n            if (changedCharIndex < postcodeStartIndex) { // Change in query prefix\n              this.queryPrefix = newEditorState.substring(0, postcodeStartIndex - 1)\n            } else if (changedCharIndex < postcodeEndIndex) { // Change in the postcode\n              this.postcode = newEditorState.substring(postcodeStartIndex, postcodeEndIndex - 1)\n            } else { // Change in query postfix\n              this.queryPostfix = newEditorState.substring(postcodeEndIndex, newEditorState.length)\n            }\n          } else if (changeObject.origin === '+input') {\n            if (changedCharIndex < postcodeStartIndex) { // Change in query prefix\n              this.queryPrefix = newEditorState.substring(0, postcodeStartIndex + 1)\n            } else if (changedCharIndex <= postcodeEndIndex) { // Change in the postcode\n              this.postcode = newEditorState.substring(postcodeStartIndex, postcodeEndIndex + 1)\n            } else { // Change in query postfix\n              this.queryPostfix = newEditorState.substring(postcodeEndIndex, newEditorState.length)\n            }\n          }\n        }\n      }\n    },\n    computed: {\n      postcode: {\n        get: function () {\n          return this.$store.state.postcode\n        },\n        set: function (newPostcode) {\n          this.$store.commit('updatePostcode', newPostcode)\n        }\n      },\n      code: {\n        get: function () {\n          return this.$store.getters.code\n        }\n      },\n      queryPrefix: {\n        get: function () {\n          return this.$store.state.queryPrefix\n        },\n        set: function (newQueryPrefix) {\n          this.$store.commit('updateQueryPrefix', newQueryPrefix)\n        }\n      },\n      queryPostfix: {\n        get: function () {\n          return this.$store.state.queryPostfix\n        },\n        set: function (newQueryPostfix) {\n          this.$store.commit('updateQueryPostfix', newQueryPostfix)\n        }\n      }\n    }\n  }\n</script>\n\n<style>\n@import \"../../node_modules/vue-material/dist/vue-material.css\";\n\n.sparql-console {\n  width: 550px;\n  height: 470px;\n  text-align: left;\n}\n\n#run-query {\n  background-color: #4CAF50;\n  float: right;\n}\n\n.my-fab {\n  position: relative;\n  bottom: 85px;\n  right: 15px;\n  text-align: right;\n  z-index: 5;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// SparqlConsole.vue?14c7d910","var map = {\n\t\"./meta.js\": 43,\n\t\"./sparql/sparql.js\": 96\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 95;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/codemirror/mode ^\\.\\/.*\\.js$\n// module id = 95\n// module chunks = 1","var map = {\n\t\"./base16-dark.css\": 141,\n\t\"./base16-light.css\": 142\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 97;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/codemirror/theme ^\\.\\/.*\\.css$\n// module id = 97\n// module chunks = 1"],"sourceRoot":""}