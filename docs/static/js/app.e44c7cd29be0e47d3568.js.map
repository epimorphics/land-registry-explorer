{"version":3,"sources":["webpack:///static/js/app.e44c7cd29be0e47d3568.js","webpack:///./src/components/GoogleMap.vue?9604","webpack:///./src/components/ResultView.vue?bafe","webpack:///./src/components/SparqlConsole.vue?88e1","webpack:///./~/vue-codemirror/src/codemirror.vue","webpack:///./src/components/ResultView.vue?d648","webpack:///./src/components/GoogleMap.vue?81d6","webpack:///./src/components/SparqlConsole.vue?23a2","webpack:///./~/vue-codemirror/src/codemirror.vue?ab6b","webpack:///./src/App.vue?f2db","webpack:///./src/App.vue?fc6a","webpack:///./src/main.js","webpack:///codemirror.vue","webpack:///App.vue","webpack:///GoogleMap.vue","webpack:///ResultView.vue","webpack:///SparqlConsole.vue","webpack:///./~/codemirror/mode ^\\.\\/.*\\.js$","webpack:///./~/codemirror/theme ^\\.\\/.*\\.css$"],"names":["webpackJsonp","141","module","exports","142","143","144","145","146","147","151","__webpack_require__","injectStyle","ssrContext","Component","152","153","154","155","render","_vm","this","_h","$createElement","_c","_self","staticClass","activeView","attrs","id","_m","_v","_s","message","result","_e","staticRenderFns","156","157","options","editorOption","on","changes","onEditorChanges","beforeChange","onEditorBeforeChange","beforeSelectionChange","onEditorBeforeSelectionChange","model","value","callback","$$v","code","expression","click","runQuery","158","159","selectedPostcode","currentView","ref","md-icon","md-active","$event","162","60","84","__webpack_exports__","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_es6_promise__","__WEBPACK_IMPORTED_MODULE_0_es6_promise___default","n","__WEBPACK_IMPORTED_MODULE_1_vue__","__WEBPACK_IMPORTED_MODULE_2_vuex__","__WEBPACK_IMPORTED_MODULE_3_vue_material__","__WEBPACK_IMPORTED_MODULE_3_vue_material___default","__WEBPACK_IMPORTED_MODULE_4_vue_codemirror__","__WEBPACK_IMPORTED_MODULE_4_vue_codemirror___default","__WEBPACK_IMPORTED_MODULE_5__App__","__WEBPACK_IMPORTED_MODULE_5__App___default","a","polyfill","config","productionTip","use","store","Store","state","postcode","queryPrefix","queryPostfix","queryResult","queryStatusCode","mutations","updatePostcode","updateQueryResult","updateQueryStatusCode","status","updateQueryPrefix","updateQueryPostfix","getters","el","template","components","App","85","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default","window","CodeMirror","name","data","content","props","String","unseenLines","Array","marker","Function","loadtheme","type","Boolean","default","debugger","required","created","undefined","lineNumbers","lineWrapping","mode","theme","language","_debugger","_loadtheme","isCustomMode","modes","lang","findModeByMIME","findModeByName","ext","findModeByExtension","mime","filename","findModeByFileName","console","warn","mounted","_this","editor","fromTextArea","$el","setValue","cm","getValue","$emit","events","i","length","event","b","c","unseenLineMarkers","setTimeout","refresh","beforeDestroy","element","doc","getWrapperElement","remove","watch","deep","handler","oldOptions","key","setOption","newVal","oldVal","scrollInfo","getScrollInfo","scrollTo","left","top","methods","forEach","line","info","lineInfo","setGutterMarker","gutterMarkers","86","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_1__components_GoogleMap__","__WEBPACK_IMPORTED_MODULE_1__components_GoogleMap___default","__WEBPACK_IMPORTED_MODULE_2__components_SparqlConsole__","__WEBPACK_IMPORTED_MODULE_2__components_SparqlConsole___default","__WEBPACK_IMPORTED_MODULE_3__components_ResultView__","__WEBPACK_IMPORTED_MODULE_3__components_ResultView___default","axios","endpoint","GoogleMap","SparqlConsole","ResultView","openResult","document","getElementById","setCurrentViewResult","log","$refs","sparqlconsole","mVue","url","encodeURIComponent","get","headers","Accept","then","response","parseQueryResult","results","bindings","$store","commit","catch","error","input","map","row","rowObject","column","dataTypeCast","obj","datatype","replace","Number","Date","computed","set","newPostcode","87","chroma","turfInside","turfHelpers","d3voronoi","Promise","visiblePostcodes","mapCenter","google","maps","LatLng","infoWindow","InfoWindow","populatingData","updateMapCenter","zoom","center","disableDefaultUI","zoomControl","minZoom","maxZoom","Map","addListener","getCenter","getNearbyPostcodes","latitude","longitude","_this2","lng","lat","point","push","populateURLs","properties","getData","_this3","totalPaid","items","transaction","pricePaid","averagePaid","concurrency","generateVoronoi","_this4","centroids","geometry","coordinates","maxY","getBounds","getNorthEast","maxX","minY","getSouthWest","minX","voronoi","extent","polygons","postcodePolygons","polygon","reverse","postcodePolygon","postcodePoint","centroid","clearShapes","populateData","_this5","feature","_this6","min","Infinity","max","addGeoJson","bezInterpolator","scale","setStyle","color","avgPaid","getProperty","colorIndex","fillColor","strokeWeight","close","averagePricePaid","toLocaleString","style","currency","maximumFractionDigits","getId","position","open","panTo","_this7","88","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","dc","d3","crossfilter","statusCode","requiredFields","every","field","hasOwnProperty","visualizeData","rowChart","barChart","dataGrid","ndx","propertyTypeDimension","dimension","d","propertyType","propertyTypeGroup","group","reduceCount","amount","yearDimension","date","toString","substring","yearAvgGroup","reduce","p","v","count","total","average","timeDimension","getTime","yearDomain","width","height","ordinalColors","title","elasticX","turnOnControls","xAxis","ticks","tickSize","tickPadding","valueAccessor","x","ordinal","domain","xUnits","units","elasticY","yAxisLabel","xAxisLabel","renderHorizontalGridLines","gap","centerBar","margins","right","bottom","tickFormat","yAxis","minimumFractionDigits","html","paon","street","town","county","getDate","getMonth","getFullYear","sortBy","size","renderAll","updatedResult","newResult","redrawAll","89","inputStyle","tabSize","foldGutter","styleActiveLine","matchBrackets","getIndexAt","string","char","currentLine","codemirror","changeObject","ranges","JSON","parse","head","anchor","update","origin","cancel","changeObjects","newEditorState","postcodeStartIndex","postcodeEndIndex","deletedCharIndex","from","ch","newCharIndex","newQueryPrefix","newQueryPostfix","96","webpackContext","req","webpackContextResolve","Error","./meta.js","./sparql/sparql.js","keys","resolve","98","./base16-dark.css","./base16-light.css"],"mappings":"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","file":"static/js/app.e44c7cd29be0e47d3568.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 141:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 142:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 143:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 144:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 145:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 146:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 147:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 151:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(145)\n}\nvar Component = __webpack_require__(12)(\n  /* script */\n  __webpack_require__(87),\n  /* template */\n  __webpack_require__(156),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-3cc16e99\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 152:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(144)\n}\nvar Component = __webpack_require__(12)(\n  /* script */\n  __webpack_require__(88),\n  /* template */\n  __webpack_require__(155),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 153:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(146)\n}\nvar Component = __webpack_require__(12)(\n  /* script */\n  __webpack_require__(89),\n  /* template */\n  __webpack_require__(157),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 154:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(12)(\n  /* script */\n  __webpack_require__(85),\n  /* template */\n  __webpack_require__(158),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 155:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"result-view\"\n  }, [(_vm.activeView === 'data') ? _c('div', {\n    attrs: {\n      \"id\": \"visualization\"\n    }\n  }, [_vm._m(0), _vm._v(\" \"), _vm._m(1)]) : (_vm.activeView === 'json') ? _c('div', {\n    staticClass: \"result-view\",\n    attrs: {\n      \"id\": \"json\"\n    }\n  }, [_c('pre', [_vm._v(_vm._s(_vm.message))]), _vm._v(\" \"), _c('pre', [_vm._v(_vm._s(_vm.result))])]) : _vm._e()])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"rowChartDataTable\"\n    }\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('span', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Number of Sales per Property Type\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"rowChart\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"grid\"\n  }, [_c('span', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Latest Property Sale\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"dataGrid\"\n    }\n  })])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"bar\"\n  }, [_c('span', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Average Price Paid per Year\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"barChart\"\n    }\n  })])\n}]}\n\n/***/ }),\n\n/***/ 156:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"google-map\",\n    attrs: {\n      \"id\": \"gmap\"\n    }\n  })\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 157:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"sparql-console\"\n  }, [_c('codemirror', {\n    attrs: {\n      \"id\": \"codemirror\",\n      \"options\": _vm.editorOption\n    },\n    on: {\n      \"changes\": _vm.onEditorChanges,\n      \"beforeChange\": _vm.onEditorBeforeChange,\n      \"beforeSelectionChange\": _vm.onEditorBeforeSelectionChange\n    },\n    model: {\n      value: (_vm.code),\n      callback: function($$v) {\n        _vm.code = $$v\n      },\n      expression: \"code\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"my-fab\"\n  }, [_c('md-button', {\n    staticClass: \"md-fab md-primary\",\n    on: {\n      \"click\": _vm.runQuery\n    }\n  }, [_c('md-icon', [_vm._v(\"play_arrow\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 158:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('textarea')\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 159:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('div', [_c('md-input-container', [_c('label', [_vm._v(\"Postcode\")]), _vm._v(\" \"), _c('md-input', {\n    model: {\n      value: (_vm.selectedPostcode),\n      callback: function($$v) {\n        _vm.selectedPostcode = $$v\n      },\n      expression: \"selectedPostcode\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', [(_vm.currentView === 'map') ? _c('div', [_c('GoogleMap', {\n    ref: \"gmap\",\n    attrs: {\n      \"id\": \"gmap\"\n    }\n  })], 1) : (_vm.currentView === 'query') ? _c('div', [_c('SparqlConsole', {\n    attrs: {\n      \"id\": \"console\"\n    },\n    on: {\n      \"runQuery\": _vm.runQuery\n    }\n  })], 1) : _c('div', [_c('ResultView', {\n    attrs: {\n      \"id\": \"result\"\n    }\n  }, [_vm._v(\"Results can be interesting\")])], 1)]), _vm._v(\" \"), _c('md-bottom-bar', [_c('md-bottom-bar-item', {\n    attrs: {\n      \"md-icon\": \"map\",\n      \"id\": \"map-button\",\n      \"md-active\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.currentView = 'map'\n      }\n    }\n  }, [_vm._v(\"Map\")]), _vm._v(\" \"), _c('md-bottom-bar-item', {\n    attrs: {\n      \"md-icon\": \"code\",\n      \"id\": \"query-button\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.currentView = 'query'\n      }\n    }\n  }, [_vm._v(\"Query\")]), _vm._v(\" \"), _c('md-bottom-bar-item', {\n    attrs: {\n      \"md-icon\": \"equalizer\",\n      \"id\": \"result-button\"\n    },\n    on: {\n      \"click\": _vm.runQuery\n    }\n  }, [_vm._v(\"Result\")])], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 162:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 60:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(147)\n}\nvar Component = __webpack_require__(12)(\n  /* script */\n  __webpack_require__(86),\n  /* template */\n  __webpack_require__(159),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 84:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_es6_promise__ = __webpack_require__(58);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_es6_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_es6_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue_material__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue_material___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_vue_material__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vue_codemirror__ = __webpack_require__(59);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vue_codemirror___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_vue_codemirror__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__App__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__App__);\n// Required for IE11\n\n__WEBPACK_IMPORTED_MODULE_0_es6_promise___default.a.polyfill();\n\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"].config.productionTip = false;\n\n__WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_3_vue_material___default.a);\n__WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_4_vue_codemirror___default.a);\n\nvar store = new __WEBPACK_IMPORTED_MODULE_2_vuex__[\"a\" /* default */].Store({\n  state: {\n    postcode: '',\n    queryPrefix: 'prefix xsd: <http://www.w3.org/2001/XMLSchema#>\\n' + 'prefix ukhpi: <http://landregistry.data.gov.uk/def/ukhpi/>\\n' + 'prefix lrppi: <http://landregistry.data.gov.uk/def/ppi/>\\n' + 'prefix skos: <http://www.w3.org/2004/02/skos/core#>\\n' + 'prefix lrcommon: <http://landregistry.data.gov.uk/def/common/>\\n' + '\\n' + 'SELECT ?paon ?saon ?street ?town ?county ?propertyType ?postcode ?amount ?date ?category\\n' + 'WHERE\\n' + '{\\n' + '  VALUES ?postcode {\"',\n    queryPostfix: '\"^^xsd:string}\\n' + '\\n' + '  ?addr lrcommon:postcode ?postcode.\\n' + '\\n' + '  ?transx lrppi:propertyAddress ?addr ;\\n' + '  lrppi:pricePaid ?amount ;\\n' + '  lrppi:propertyType/skos:prefLabel ?propertyType ;\\n' + '  lrppi:transactionDate ?date ;\\n' + '  lrppi:transactionCategory/skos:prefLabel ?category.\\n' + '\\n' + '  OPTIONAL {?addr lrcommon:county ?county}\\n' + '  OPTIONAL {?addr lrcommon:paon ?paon}\\n' + '  OPTIONAL {?addr lrcommon:saon ?saon}\\n' + '  OPTIONAL {?addr lrcommon:street ?street}\\n' + '  OPTIONAL {?addr lrcommon:town ?town}\\n' + '}',\n    queryResult: {},\n    queryStatusCode: 0\n  },\n  mutations: {\n    updatePostcode: function updatePostcode(state, postcode) {\n      state.postcode = postcode;\n    },\n    updateQueryResult: function updateQueryResult(state, result) {\n      state.queryResult = result;\n    },\n    updateQueryStatusCode: function updateQueryStatusCode(state, status) {\n      state.queryStatusCode = status;\n    },\n    updateQueryPrefix: function updateQueryPrefix(state, queryPrefix) {\n      state.queryPrefix = queryPrefix;\n    },\n    updateQueryPostfix: function updateQueryPostfix(state, queryPostfix) {\n      state.queryPostfix = queryPostfix;\n    }\n  },\n  getters: {\n    code: function code(state) {\n      return state.queryPrefix + state.postcode + state.queryPostfix;\n    },\n    queryResult: function queryResult(state) {\n      return state.queryResult;\n    }\n  }\n});\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_1_vue__[\"default\"]({\n  el: '#app',\n  store: store,\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_5__App___default.a }\n});\n\n/***/ }),\n\n/***/ 85:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__ = __webpack_require__(93);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof__);\n\n//\n//\n//\n//\n\nwindow.CodeMirror = __webpack_require__(13);\n__webpack_require__(141);\n__webpack_require__(44);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'codemirror',\n  data: function data() {\n    return {\n      content: ''\n    };\n  },\n  props: {\n    code: String,\n    value: String,\n    unseenLines: Array,\n    marker: Function,\n    loadtheme: {\n      type: Boolean,\n      default: function _default() {\n        return true;\n      }\n    },\n    debugger: {\n      type: Boolean,\n      default: function _default() {\n        return true;\n      }\n    },\n    options: {\n      type: Object,\n      required: true\n    }\n  },\n  created: function created() {\n\n    if (this.options.lineNumbers === undefined) {\n      this.options.lineNumbers = true;\n    }\n    if (this.options.lineWrapping === undefined) {\n      this.options.lineWrapping = false;\n    }\n    if (this.options.mode === undefined) {\n      this.options.mode = 'text/javascript';\n    }\n\n    var theme = this.options.theme;\n    var language = this.options.mode;\n    var _debugger = this.debugger;\n    var _loadtheme = this.loadtheme;\n    var isCustomMode = !!CodeMirror.modes[language];\n\n    // theme config\n    if (theme && theme == 'solarized light') {\n      theme = 'solarized';\n    }\n\n    // console.log(language, CodeMirror.modes.simplemode)\n\n    // language string config\n    if (typeof language == 'string') {\n      var lang = CodeMirror.findModeByMIME(language);\n      language = !lang ? lang : lang.mode;\n\n      // language object config\n    } else if ((typeof language === 'undefined' ? 'undefined' : __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default()(language)) == 'object') {\n\n      if (language.name) {\n        var lang = CodeMirror.findModeByName(language.name);\n        if (lang) {\n          language = lang.mode;\n          // this.options.mode = language\n        } else {\n          language = null;\n        }\n      } else if (language.ext) {\n        var lang = CodeMirror.findModeByExtension(language.ext);\n        if (lang) {\n          language = lang.mode;\n          // this.options.mode = language\n        } else {\n          language = null;\n        }\n      } else if (language.mime) {\n        var lang = CodeMirror.findModeByMIME(language.mime);\n        if (lang) {\n          language = lang.mode;\n          // this.options.mode = language\n        } else {\n          language = null;\n        }\n      } else if (language.filename) {\n        var lang = CodeMirror.findModeByFileName(language.filename);\n        if (lang) {\n          language = lang.mode;\n          // this.options.mode = language\n        } else {\n          language = null;\n        }\n      }\n    }\n\n    // console.log('language', language, isCustomMode)\n\n    if ((!language || language == 'null') && _debugger && !isCustomMode) {\n      console.warn('CodeMirror language mode: ' + language + ' configuration error (CodeMirror语言模式配置错误，或者不支持此语言) See http://codemirror.net/mode/ for more details.');\n      // return false\n    }\n\n    // console.log(language, theme)\n\n    // require language\n    if (language && language !== 'null') {\n      __webpack_require__(96)(\"./\" + language + '/' + language + '.js');\n    }\n\n    // require theme\n    if (theme && _loadtheme) {\n      __webpack_require__(98)(\"./\" + theme + '.css');\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n    this.editor = CodeMirror.fromTextArea(this.$el, this.options);\n    this.editor.setValue(this.code || this.value || this.content);\n    this.editor.on('change', function (cm) {\n      _this.content = cm.getValue();\n      if (!!_this.$emit) {\n        _this.$emit('change', _this.content);\n        _this.$emit('input', _this.content);\n      }\n    });\n    var events = ['changes', 'beforeChange', 'cursorActivity', 'keyHandled', 'inputRead', 'electricInput', 'beforeSelectionChange', 'viewportChange', 'swapDoc', 'gutterClick', 'gutterContextMenu', 'focus', 'blur', 'refresh', 'optionChange', 'scrollCursorIntoView', 'update'];\n    for (var i = events.length - 1; i >= 0; i--) {\n      (function (event) {\n        _this.editor.on(event, function (a, b, c) {\n          _this.$emit(event, a, b, c);\n        });\n      })(events[i]);\n    }\n    this.$emit('ready', this.editor);\n    this.unseenLineMarkers();\n\n    // prevents funky dynamic rendering\n    window.setTimeout(function () {\n      _this.editor.refresh();\n    }, 0);\n  },\n  beforeDestroy: function beforeDestroy() {\n\n    // garbage cleanup\n    var element = this.editor.doc.cm.getWrapperElement();\n    if (element && element.remove) {\n      element.remove();\n    }\n  },\n  watch: {\n    options: {\n      deep: true,\n      handler: function handler(options, oldOptions) {\n        var key;\n        for (key in options) {\n          this.editor.setOption(key, options[key]);\n        }\n      }\n    },\n    code: function code(newVal, oldVal) {\n      var editor_value = this.editor.getValue();\n      if (newVal !== editor_value) {\n        var scrollInfo = this.editor.getScrollInfo();\n        this.editor.setValue(newVal);\n        this.content = newVal;\n        this.editor.scrollTo(scrollInfo.left, scrollInfo.top);\n      }\n      this.unseenLineMarkers();\n    },\n    value: function value(newVal, oldVal) {\n      var editor_value = this.editor.getValue();\n      if (newVal !== editor_value) {\n        var scrollInfo = this.editor.getScrollInfo();\n        this.editor.setValue(newVal);\n        this.content = newVal;\n        this.editor.scrollTo(scrollInfo.left, scrollInfo.top);\n      }\n      this.unseenLineMarkers();\n    }\n  },\n  methods: {\n    refresh: function refresh() {\n      this.editor.refresh();\n    },\n    unseenLineMarkers: function unseenLineMarkers() {\n      var _this = this;\n      if (_this.unseenLines !== undefined && _this.marker !== undefined) {\n        _this.unseenLines.forEach(function (line) {\n          var info = _this.editor.lineInfo(line);\n          _this.editor.setGutterMarker(line, \"breakpoints\", info.gutterMarkers ? null : _this.marker());\n        });\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 86:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(90);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_GoogleMap__ = __webpack_require__(151);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_GoogleMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_GoogleMap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_SparqlConsole__ = __webpack_require__(153);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_SparqlConsole___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_SparqlConsole__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ResultView__ = __webpack_require__(152);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_ResultView___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__components_ResultView__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar axios = __webpack_require__(37);\n// const d3 = require('d3-sparql')\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  data: function data() {\n    return {\n      currentView: 'map',\n      endpoint: 'http://landregistry.data.gov.uk/landregistry/query'\n    };\n  },\n\n  components: {\n    GoogleMap: __WEBPACK_IMPORTED_MODULE_1__components_GoogleMap___default.a,\n    SparqlConsole: __WEBPACK_IMPORTED_MODULE_2__components_SparqlConsole___default.a,\n    ResultView: __WEBPACK_IMPORTED_MODULE_3__components_ResultView___default.a\n  },\n  methods: {\n    openResult: function openResult() {\n      var resultButton = document.getElementById('result-button');\n      resultButton.click();\n    },\n    setCurrentViewResult: function setCurrentViewResult() {\n      console.log(this.$refs);\n      this.$refs.sparqlconsole.runQuery();\n    },\n    runQuery: function runQuery() {\n      var mVue = this;\n      var url = mVue.endpoint + '?query=' + encodeURIComponent(mVue.code);\n      axios.get(url, {\n        headers: {\n          'Accept': 'application/sparql-results+json'\n        }\n      }).then(function (response) {\n        var data = mVue.parseQueryResult(response.data.results.bindings);\n        // console.log(`RESPONSE: ${JSON.stringify(result)}`)\n        mVue.$store.commit('updateQueryStatusCode', response.status);\n        mVue.$store.commit('updateQueryResult', data);\n      }).catch(function (error) {\n        if (error) {\n          mVue.$store.commit('updateQueryStatusCode', error.response.status);\n          mVue.$store.commit('updateQueryResult', error.response.data);\n        }\n      });\n      // d3.sparql(this.endpoint, this.code, function (error, data) {\n      //   if (error) throw error\n      //   console.log(JSON.stringify(data))\n      //   mVue.$store.commit('updateQueryResult', data)\n      // })\n    },\n    parseQueryResult: function parseQueryResult(input) {\n      var mVue = this;\n      return input.map(function (row) {\n        var rowObject = {};\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(row).forEach(function (column) {\n          rowObject[column] = mVue.dataTypeCast(row[column]);\n        });\n        // console.log(JSON.stringify(rowObject))\n        return rowObject;\n      });\n\n      // const mVue = this\n      // // console.log(`parseQueryResult, input: ${JSON.stringify(input)}`)\n      // var results = []\n      // input.forEach(function (element) {\n      //   var result = {}\n      //   element.forEach(function (field) {\n      //     var parsedField = {}\n      //     parsedField[field.key] = mVue.dataTypeCast(field)\n      //   })\n      //   console.log(`single item: ${JSON.stringify(element)}`)\n      //   result.push(item)\n      // })\n      // return result\n    },\n    dataTypeCast: function dataTypeCast(obj) {\n      var xmlSchema = 'http://www.w3.org/2001/XMLSchema#';\n      var value = obj.value;\n      if (typeof obj.datatype === 'undefined') {\n        return value;\n      }\n      var dataType = obj.datatype.replace(xmlSchema, '');\n      switch (dataType) {\n        case 'string':\n          value = new String(value); // eslint-disable-line\n          break;\n        case 'boolean':\n          value = new Boolean(value === 'false' ? false : value); // eslint-disable-line\n          break;\n        case 'float':\n        case 'integer':\n        case 'long':\n        case 'double':\n        case 'decimal':\n        case 'nonPositiveInteger':\n        case 'nonNegativeInteger':\n        case 'negativeInteger':\n        case 'int':\n        case 'unsignedLong':\n        case 'positiveInteger':\n        case 'short':\n        case 'unsignedInt':\n        case 'byte':\n        case 'unsignedShort':\n        case 'unsignedByte':\n          value = new Number(value); // eslint-disable-line\n          break;\n        case 'date':\n        case 'time':\n        case 'dateTime':\n          value = new Date(value);\n          break;\n      }\n      return value;\n    }\n  },\n  computed: {\n    selectedPostcode: {\n      get: function get() {\n        return this.$store.state.postcode;\n      },\n      set: function set(newPostcode) {\n        this.$store.commit('updatePostcode', newPostcode);\n      }\n    },\n    queryResult: {\n      get: function get() {\n        return this.$store.state.queryResult;\n      }\n    },\n    code: {\n      get: function get() {\n        return this.$store.getters.code;\n      }\n    }\n  },\n  watch: {\n    queryResult: function queryResult() {\n      this.currentView = 'result';\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 87:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n\nvar chroma = __webpack_require__(95);\nvar turfInside = __webpack_require__(65);\nvar turfHelpers = __webpack_require__(64);\nvar d3voronoi = __webpack_require__(135);\nvar axios = __webpack_require__(37);\nvar Promise = __webpack_require__(94);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'google-map',\n  data: function data() {\n    return {\n      visiblePostcodes: [],\n      map: {},\n      mapCenter: new window.google.maps.LatLng(51.46040383078197, -2.6015971891367826),\n      infoWindow: new window.google.maps.InfoWindow(),\n      populatingData: false\n    };\n  },\n  mounted: function mounted() {\n    this.updateMapCenter();\n    var mVue = this;\n    var element = document.getElementById('gmap');\n    var options = {\n      zoom: 17,\n      center: this.mapCenter,\n      disableDefaultUI: true,\n      zoomControl: true,\n      minZoom: 17,\n      maxZoom: 18\n    };\n    var map = new window.google.maps.Map(element, options);\n\n    map.addListener('idle', function () {\n      if (!mVue.populatingData) {\n        mVue.mapCenter = map.getCenter();\n        mVue.getNearbyPostcodes();\n      }\n    });\n    mVue.map = map;\n  },\n\n  methods: {\n    updateMapCenter: function updateMapCenter() {\n      var _this = this;\n\n      var url = 'https://api.postcodes.io/postcodes/' + this.postcode;\n      console.log('Centroid URL: ' + url);\n      return axios.get(url).then(function (response) {\n        var latitude = response.data.result.latitude;\n        var longitude = response.data.result.longitude;\n        _this.mapCenter = new window.google.maps.LatLng(latitude, longitude);\n        // console.log(`updateMapCenter: ${JSON.stringify(this.mapCenter)}`)\n      }).catch(function (error) {\n        console.log('Error: ' + error);\n      });\n    },\n    getNearbyPostcodes: function getNearbyPostcodes() {\n      var _this2 = this;\n\n      this.visiblePostcodes = [];\n      var url = 'https://api.postcodes.io/postcodes?lon=' + this.mapCenter.lng() + '&lat=' + this.mapCenter.lat() + '&radius=300&limit=99';\n      console.log('Nearby URL: ' + url);\n      axios.get(url).then(function (response) {\n        var results = response.data.result;\n        results.forEach(function (result) {\n          var postcode = turfHelpers.point([result.longitude, result.latitude]);\n          postcode.id = result.postcode;\n          _this2.visiblePostcodes.push(postcode);\n        });\n      }).then(function () {\n        _this2.populateURLs();\n      }).catch(function (error) {\n        console.log('Error: ' + error);\n      });\n    },\n    populateURLs: function populateURLs() {\n      this.visiblePostcodes.forEach(function (postcode) {\n        var url = 'http://landregistry.data.gov.uk/data/ppi/transaction-record.json?_page=0&propertyAddress.postcode=' + postcode.id + '&_pageSize=50';\n        url = url.replace(' ', '%20');\n        postcode.properties.url = url;\n      });\n      this.getData();\n    },\n    getData: function getData() {\n      var _this3 = this;\n\n      Promise.map(this.visiblePostcodes, function (postcode) {\n        return axios.get(postcode.properties.url).then(function (response) {\n          // console.log(postcode.properties.url)\n          var totalPaid = 0;\n          var data = response.data.result.items;\n          data.forEach(function (transaction) {\n            totalPaid += transaction.pricePaid;\n          });\n          if (totalPaid === 0) {\n            postcode.properties.averagePaid = 0;\n          } else {\n            postcode.properties.averagePaid = totalPaid / data.length;\n          }\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }, { concurrency: 10 }).then(function () {\n        // console.log(`getData: ${JSON.stringify(this.visiblePostcodes)}`)\n        _this3.generateVoronoi();\n      });\n    },\n    generateVoronoi: function generateVoronoi() {\n      var _this4 = this;\n\n      var centroids = [];\n      this.visiblePostcodes.forEach(function (postcode) {\n        centroids.push(postcode.geometry.coordinates);\n      });\n\n      var maxY = this.map.getBounds().getNorthEast().lat() + 0.005;\n      var maxX = this.map.getBounds().getNorthEast().lng() + 0.005;\n      var minY = this.map.getBounds().getSouthWest().lat() - 0.005;\n      var minX = this.map.getBounds().getSouthWest().lng() - 0.005;\n\n      var voronoi = d3voronoi.voronoi().extent([[minX, minY], [maxX, maxY]]);\n      var polygons = voronoi(centroids).polygons();\n\n      var postcodePolygons = [];\n      polygons.forEach(function (polygon) {\n        // Reverse coordinate order so it conforms to the right-hand rule.\n        // Close the ring by making the last position the same as the first.\n        polygon.reverse().push(polygon[0]);\n        var postcodePolygon = turfHelpers.polygon([polygon]);\n        _this4.visiblePostcodes.forEach(function (postcodePoint) {\n          if (turfInside(postcodePoint, postcodePolygon)) {\n            postcodePolygon.id = postcodePoint.id;\n            postcodePolygon.properties = postcodePoint.properties;\n            postcodePolygon.properties.centroid = postcodePoint.geometry.coordinates;\n          }\n        });\n        postcodePolygons.push(postcodePolygon);\n      });\n      this.clearShapes();\n      this.visiblePostcodes = postcodePolygons;\n      // console.log(`generateVoronoi: ${JSON.stringify(this.visiblePostcodes)}`)\n      this.populateData();\n    },\n    clearShapes: function clearShapes() {\n      var _this5 = this;\n\n      this.map.data.forEach(function (feature) {\n        _this5.map.data.remove(feature);\n      });\n      this.visiblePostcodes = [];\n    },\n    populateData: function populateData() {\n      var _this6 = this;\n\n      var min = Infinity;\n      var max = -Infinity;\n      this.visiblePostcodes.forEach(function (postcode) {\n        _this6.map.data.addGeoJson(postcode);\n        if (postcode.properties.averagePaid > max) max = postcode.properties.averagePaid;\n        if (postcode.properties.averagePaid < min) min = postcode.properties.averagePaid;\n      });\n\n      var bezInterpolator = chroma.scale(['#fff0a9', '#e69735', '#682a0f']);\n      this.map.data.setStyle(function (feature) {\n        var avgPaid = feature.getProperty('averagePaid');\n        var colorIndex = (avgPaid - min) / (max - min);\n        var color;\n        if (avgPaid === 0) {\n          color = '#ffffff';\n        } else {\n          color = bezInterpolator(colorIndex);\n        }\n        return {\n          fillColor: color,\n          strokeWeight: 1\n        };\n      });\n      var mVue = this;\n      this.map.data.addListener('click', function (event) {\n        if (mVue.infoWindow) {\n          mVue.infoWindow.close();\n        }\n        var centroid = event.feature.getProperty('centroid');\n        var averagePricePaid = event.feature.getProperty('averagePaid').toLocaleString('en-GB', { style: 'currency', currency: 'GBP', maximumFractionDigits: 2 });\n        var message = '<p><b>' + event.feature.getId() + '</b></p>' + ('<p>Average Price Paid: ' + averagePricePaid + '</p>');\n        mVue.infoWindow = new window.google.maps.InfoWindow({\n          content: message,\n          position: new window.google.maps.LatLng(centroid[1], centroid[0])\n        });\n        mVue.postcode = event.feature.getId();\n        mVue.infoWindow.open(mVue.map);\n      });\n      this.populatingData = false;\n    }\n  },\n  computed: {\n    postcode: {\n      get: function get() {\n        return this.$store.state.postcode;\n      },\n      set: function set(newPostcode) {\n        this.$store.commit('updatePostcode', newPostcode);\n      }\n    }\n  },\n  watch: {\n    mapCenter: function mapCenter() {\n      this.map.panTo(this.mapCenter);\n    },\n    postcode: function postcode(newPostcode) {\n      var _this7 = this;\n\n      if (newPostcode.length === 7) {\n        this.populatingData = true;\n        this.updateMapCenter().then(function () {\n          _this7.getNearbyPostcodes();\n        });\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 88:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(43);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar dc = __webpack_require__(140);\nvar d3 = __webpack_require__(57);\nvar crossfilter = __webpack_require__(132);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      result: this.$store.state.queryResult,\n      statusCode: this.$store.state.queryStatusCode,\n      message: '',\n      requiredFields: ['paon', 'street', 'town', 'county', 'propertyType', 'postcode', 'amount', 'date'],\n      activeView: 'data'\n    };\n  },\n  mounted: function mounted() {\n    console.log(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.result));\n    var mVue = this;\n    if (this.statusCode > 399) {\n      this.message = '';\n      this.activeView = 'json';\n      return;\n    } else if (this.result.length === 0) {\n      this.message = 'No sales in ' + this.postcode + ' since 01/01/1995';\n      this.activeView = 'json';\n    } else {\n      var hasAllRequiredFields = this.requiredFields.every(function (field) {\n        return mVue.result[0].hasOwnProperty(field);\n      });\n      if (!hasAllRequiredFields) {\n        this.message = 'To visualize the data please return all of the following fields:\\n' + 'paon, street, town, county, propertyType, postcode, amount, date\\n\\n' + 'Query Result as JSON:';\n        this.activeView = 'json';\n      } else {\n        this.visualizeData();\n      }\n    }\n  },\n\n  methods: {\n    visualizeData: function visualizeData() {\n      var rowChart = dc.rowChart('#rowChart');\n      var barChart = dc.barChart('#barChart');\n      var dataGrid = dc.dataGrid('#dataGrid');\n\n      var ndx = crossfilter(this.result);\n\n      var propertyTypeDimension = ndx.dimension(function (d) {\n        return d.propertyType;\n      });\n      var propertyTypeGroup = propertyTypeDimension.group().reduceCount(function (d) {\n        return d.amount;\n      });\n      var yearDimension = ndx.dimension(function (d) {\n        return d.date.toString().substring(11, 15);\n      });\n      var yearAvgGroup = yearDimension.group().reduce(\n      /* callback for when data is added to the current filter results */\n      function (p, v) {\n        ++p.count;\n        p.total += v.amount;\n        p.average = p.count ? p.total / p.count : 0;\n        return p;\n      },\n      /* callback for when data is removed from the current filter results */\n      function (p, v) {\n        --p.count;\n        p.total -= v.amount;\n        p.average = p.count ? p.total / p.count : 0;\n        return p;\n      },\n      /* initialize p */\n      function () {\n        return {\n          count: 0,\n          total: 0,\n          average: 0\n        };\n      });\n\n      var timeDimension = ndx.dimension(function (d) {\n        return d.date.getTime();\n      });\n\n      var yearDomain = [];\n      for (var i = 1995; i < 2018; i++) {\n        yearDomain.push(i.toString());\n      }\n\n      rowChart.width(260).height(200).group(propertyTypeGroup).dimension(propertyTypeDimension).ordinalColors(['#005E00', '#0F8500', '#35AB17', '#5BD13D', '#81F763']).title(function (d) {\n        return d.propertyType;\n      }).elasticX(true).turnOnControls(true);\n\n      rowChart.xAxis().ticks(5).tickSize(2).tickPadding(10);\n\n      barChart.width(500).height(215).dimension(yearDimension).group(yearAvgGroup).valueAccessor(function (p) {\n        return p.value.average;\n      }).x(d3.scale.ordinal().domain(yearDomain)).xUnits(dc.units.ordinal).elasticY(true).yAxisLabel('').elasticX(true).xAxisLabel('Year').renderHorizontalGridLines(true).gap(1).centerBar(false).margins({ top: 10, right: 0, bottom: 45, left: 65 });\n\n      barChart.xAxis().tickFormat(function (d) {\n        return '\\'' + d.substring(2, 4);\n      }).tickSize(2).tickPadding(10);\n\n      barChart.yAxis().tickFormat(function (d) {\n        return d.toLocaleString('en-GB', {\n          style: 'currency',\n          currency: 'GBP',\n          maximumFractionDigits: 0,\n          minimumFractionDigits: 0\n        });\n      }).tickSize(2);\n\n      dataGrid.dimension(timeDimension).group(function (d) {\n        return d.propertyType;\n      }).html(function (d) {\n        var html = '<div><b>Address:</b> ' + d.paon + ' ' + d.street + '</div>' + ('<div><b>Town:</b> ' + d.town + '</div>') + ('<div><b>County:</b> ' + d.county + '</div>') + ('<div><b>Property Type:</b> ' + d.propertyType + '</div>') + ('<div><b>Price Paid:</b> ' + d.amount.toLocaleString('en-GB', { style: 'currency', currency: 'GBP', maximumFractionDigits: 2 }) + '</div>') + ('<div><b>Date:</b> ' + d.date.getDate() + '/' + (d.date.getMonth() + 1) + '/' + d.date.getFullYear() + '</div>');\n        return html;\n      }).sortBy(function (d) {\n        return d.date.getTime();\n      }).size(1);\n\n      dc.renderAll();\n    }\n  },\n  computed: {\n    postcode: {\n      get: function get() {\n        return this.$store.state.postcode;\n      },\n      set: function set(newPostcode) {\n        this.$store.commit('updatePostcode', newPostcode);\n      }\n    },\n    updatedResult: function updatedResult() {\n      this.$store.state.queryResult;\n    }\n  },\n  watch: {\n    updatedResult: function updatedResult(newResult) {\n      this.result = newResult;\n      dc.redrawAll();\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(43);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      editorOption: {\n        inputStyle: 'contenteditable',\n        tabSize: 2,\n        foldGutter: true,\n        styleActiveLine: true,\n        lineNumbers: true,\n        line: true,\n        matchBrackets: true,\n        mode: 'application/sparql-query',\n        theme: 'base16-light'\n      }\n    };\n  },\n\n  methods: {\n    runQuery: function runQuery() {\n      var resultButton = document.getElementById('result-button');\n      resultButton.click();\n    },\n    getIndexAt: function getIndexAt(string, line, char) {\n      var currentLine = 0;\n      for (var x = 0; x < string.length; x++) {\n        if (string[x] === '\\n') {\n          currentLine++;\n          continue;\n        }\n        if (currentLine === line) {\n          return x + char;\n        }\n      }\n    },\n    onEditorBeforeSelectionChange: function onEditorBeforeSelectionChange(codemirror, changeObject) {\n      var ranges = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(changeObject.ranges));\n      ranges[0].head = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(changeObject.ranges[0].anchor));\n      changeObject.update(ranges);\n    },\n    onEditorBeforeChange: function onEditorBeforeChange(codemirror, changeObject) {\n      if (changeObject.origin !== '+delete' && changeObject.origin !== '+input' && changeObject.origin !== 'setValue') {\n        changeObject.cancel();\n      }\n    },\n    onEditorChanges: function onEditorChanges(codemirror, changeObjects) {\n      var newEditorState = codemirror.getValue();\n      var postcodeStartIndex = this.queryPrefix.length;\n      var postcodeEndIndex = postcodeStartIndex + this.postcode.length;\n      for (var i = 0; i < changeObjects.length; i++) {\n        var changeObject = changeObjects[i];\n        if (changeObject.origin === '+delete') {\n          var deletedCharIndex = this.getIndexAt(codemirror.getValue(), changeObject.from.line, changeObject.from.ch);\n          if (deletedCharIndex < postcodeStartIndex) {\n            // Change in query prefix\n            this.queryPrefix = newEditorState.substring(0, postcodeStartIndex - 1);\n          } else if (deletedCharIndex < postcodeEndIndex) {\n            // Change in the postcode\n            this.postcode = newEditorState.substring(postcodeStartIndex, postcodeEndIndex - 1);\n          } else {\n            // Change in query postfix\n            this.queryPostfix = newEditorState.substring(postcodeEndIndex, newEditorState.length);\n          }\n        } else if (changeObject.origin === '+input') {\n          var newCharIndex = this.getIndexAt(codemirror.getValue(), changeObject.from.line, changeObject.from.ch);\n          if (newCharIndex < postcodeStartIndex) {\n            // Change in query prefix\n            this.queryPrefix = newEditorState.substring(0, postcodeStartIndex + 1);\n          } else if (newCharIndex <= postcodeEndIndex) {\n            // Change in the postcode\n            this.postcode = newEditorState.substring(postcodeStartIndex, postcodeEndIndex + 1);\n          } else {\n            // Change in query postfix\n            this.queryPostfix = newEditorState.substring(postcodeEndIndex, newEditorState.length);\n          }\n        }\n      }\n      console.log(this.code === newEditorState);\n    }\n  },\n  computed: {\n    postcode: {\n      get: function get() {\n        return this.$store.state.postcode;\n      },\n      set: function set(newPostcode) {\n        this.$store.commit('updatePostcode', newPostcode);\n      }\n    },\n    code: {\n      get: function get() {\n        return this.$store.getters.code;\n      }\n    },\n    queryPrefix: {\n      get: function get() {\n        return this.$store.state.queryPrefix;\n      },\n      set: function set(newQueryPrefix) {\n        this.$store.commit('updateQueryPrefix', newQueryPrefix);\n      }\n    },\n    queryPostfix: {\n      get: function get() {\n        return this.$store.state.queryPostfix;\n      },\n      set: function set(newQueryPostfix) {\n        this.$store.commit('updateQueryPostfix', newQueryPostfix);\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./meta.js\": 44,\n\t\"./sparql/sparql.js\": 97\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 96;\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./base16-dark.css\": 142,\n\t\"./base16-light.css\": 143\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 98;\n\n/***/ })\n\n},[84]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.e44c7cd29be0e47d3568.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3cc16e99\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GoogleMap.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoogleMap.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3cc16e99\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./GoogleMap.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-3cc16e99\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/GoogleMap.vue\n// module id = 151\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d486ec8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ResultView.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ResultView.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1d486ec8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ResultView.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ResultView.vue\n// module id = 152\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3dee24e4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SparqlConsole.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SparqlConsole.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3dee24e4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SparqlConsole.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SparqlConsole.vue\n// module id = 153\n// module chunks = 1","var Component = require(\"!../../vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../vue-loader/lib/selector?type=script&index=0!./codemirror.vue\"),\n  /* template */\n  require(\"!!../../vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6132d232\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../vue-loader/lib/selector?type=template&index=0!./codemirror.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-codemirror/src/codemirror.vue\n// module id = 154\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"result-view\"\n  }, [(_vm.activeView === 'data') ? _c('div', {\n    attrs: {\n      \"id\": \"visualization\"\n    }\n  }, [_vm._m(0), _vm._v(\" \"), _vm._m(1)]) : (_vm.activeView === 'json') ? _c('div', {\n    staticClass: \"result-view\",\n    attrs: {\n      \"id\": \"json\"\n    }\n  }, [_c('pre', [_vm._v(_vm._s(_vm.message))]), _vm._v(\" \"), _c('pre', [_vm._v(_vm._s(_vm.result))])]) : _vm._e()])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"rowChartDataTable\"\n    }\n  }, [_c('div', {\n    staticClass: \"row\"\n  }, [_c('span', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Number of Sales per Property Type\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"rowChart\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"grid\"\n  }, [_c('span', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Latest Property Sale\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"dataGrid\"\n    }\n  })])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"bar\"\n  }, [_c('span', {\n    staticClass: \"title\"\n  }, [_vm._v(\"Average Price Paid per Year\")]), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"barChart\"\n    }\n  })])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1d486ec8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ResultView.vue\n// module id = 155\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"google-map\",\n    attrs: {\n      \"id\": \"gmap\"\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-3cc16e99\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/GoogleMap.vue\n// module id = 156\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"sparql-console\"\n  }, [_c('codemirror', {\n    attrs: {\n      \"id\": \"codemirror\",\n      \"options\": _vm.editorOption\n    },\n    on: {\n      \"changes\": _vm.onEditorChanges,\n      \"beforeChange\": _vm.onEditorBeforeChange,\n      \"beforeSelectionChange\": _vm.onEditorBeforeSelectionChange\n    },\n    model: {\n      value: (_vm.code),\n      callback: function($$v) {\n        _vm.code = $$v\n      },\n      expression: \"code\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"my-fab\"\n  }, [_c('md-button', {\n    staticClass: \"md-fab md-primary\",\n    on: {\n      \"click\": _vm.runQuery\n    }\n  }, [_c('md-icon', [_vm._v(\"play_arrow\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-3dee24e4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/SparqlConsole.vue\n// module id = 157\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('textarea')\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6132d232\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./~/vue-codemirror/src/codemirror.vue\n// module id = 158\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('div', [_c('md-input-container', [_c('label', [_vm._v(\"Postcode\")]), _vm._v(\" \"), _c('md-input', {\n    model: {\n      value: (_vm.selectedPostcode),\n      callback: function($$v) {\n        _vm.selectedPostcode = $$v\n      },\n      expression: \"selectedPostcode\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', [(_vm.currentView === 'map') ? _c('div', [_c('GoogleMap', {\n    ref: \"gmap\",\n    attrs: {\n      \"id\": \"gmap\"\n    }\n  })], 1) : (_vm.currentView === 'query') ? _c('div', [_c('SparqlConsole', {\n    attrs: {\n      \"id\": \"console\"\n    },\n    on: {\n      \"runQuery\": _vm.runQuery\n    }\n  })], 1) : _c('div', [_c('ResultView', {\n    attrs: {\n      \"id\": \"result\"\n    }\n  }, [_vm._v(\"Results can be interesting\")])], 1)]), _vm._v(\" \"), _c('md-bottom-bar', [_c('md-bottom-bar-item', {\n    attrs: {\n      \"md-icon\": \"map\",\n      \"id\": \"map-button\",\n      \"md-active\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.currentView = 'map'\n      }\n    }\n  }, [_vm._v(\"Map\")]), _vm._v(\" \"), _c('md-bottom-bar-item', {\n    attrs: {\n      \"md-icon\": \"code\",\n      \"id\": \"query-button\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.currentView = 'query'\n      }\n    }\n  }, [_vm._v(\"Query\")]), _vm._v(\" \"), _c('md-bottom-bar-item', {\n    attrs: {\n      \"md-icon\": \"equalizer\",\n      \"id\": \"result-button\"\n    },\n    on: {\n      \"click\": _vm.runQuery\n    }\n  }, [_vm._v(\"Result\")])], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-67ca3ec2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 159\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-67ca3ec2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-67ca3ec2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 60\n// module chunks = 1","// Required for IE11\nimport es6Promise from 'es6-promise'\nes6Promise.polyfill()\n\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport VueMaterial from 'vue-material'\nimport VueCodeMirror from 'vue-codemirror'\nimport App from './App'\n\nVue.config.productionTip = false\n\nVue.use(Vuex)\nVue.use(VueMaterial)\nVue.use(VueCodeMirror)\n\nconst store = new Vuex.Store({\n  state: {\n    postcode: '',\n    queryPrefix: 'prefix xsd: <http://www.w3.org/2001/XMLSchema#>\\n' +\n                  'prefix ukhpi: <http://landregistry.data.gov.uk/def/ukhpi/>\\n' +\n                  'prefix lrppi: <http://landregistry.data.gov.uk/def/ppi/>\\n' +\n                  'prefix skos: <http://www.w3.org/2004/02/skos/core#>\\n' +\n                  'prefix lrcommon: <http://landregistry.data.gov.uk/def/common/>\\n' +\n                  '\\n' +\n                  'SELECT ?paon ?saon ?street ?town ?county ?propertyType ?postcode ?amount ?date ?category\\n' +\n                  'WHERE\\n' +\n                  '{\\n' +\n                  '  VALUES ?postcode {\"',\n    queryPostfix: '\"^^xsd:string}\\n' +\n                  '\\n' +\n                  '  ?addr lrcommon:postcode ?postcode.\\n' +\n                  '\\n' +\n                  '  ?transx lrppi:propertyAddress ?addr ;\\n' +\n                  '  lrppi:pricePaid ?amount ;\\n' +\n                  '  lrppi:propertyType/skos:prefLabel ?propertyType ;\\n' +\n                  '  lrppi:transactionDate ?date ;\\n' +\n                  '  lrppi:transactionCategory/skos:prefLabel ?category.\\n' +\n                  '\\n' +\n                  '  OPTIONAL {?addr lrcommon:county ?county}\\n' +\n                  '  OPTIONAL {?addr lrcommon:paon ?paon}\\n' +\n                  '  OPTIONAL {?addr lrcommon:saon ?saon}\\n' +\n                  '  OPTIONAL {?addr lrcommon:street ?street}\\n' +\n                  '  OPTIONAL {?addr lrcommon:town ?town}\\n' +\n                  '}',\n    queryResult: {},\n    queryStatusCode: 0\n  },\n  mutations: {\n    updatePostcode (state, postcode) {\n      state.postcode = postcode\n    },\n    updateQueryResult (state, result) {\n      state.queryResult = result\n    },\n    updateQueryStatusCode (state, status) {\n      state.queryStatusCode = status\n    },\n    updateQueryPrefix (state, queryPrefix) {\n      state.queryPrefix = queryPrefix\n    },\n    updateQueryPostfix (state, queryPostfix) {\n      state.queryPostfix = queryPostfix\n    }\n  },\n  getters: {\n    code: state => {\n      return state.queryPrefix + state.postcode + state.queryPostfix\n    },\n    queryResult: state => {\n      return state.queryResult\n    }\n  }\n})\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  store,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <textarea></textarea>\n</template>\n\n<script>\n  window.CodeMirror = require('codemirror')\n  require('codemirror/lib/codemirror.css')\n  require('codemirror/mode/meta')\n  export default {\n    name: 'codemirror',\n    data: function() {\n      return {\n        content: ''\n      }\n    },\n    props: {\n      code: String,\n      value: String,\n      unseenLines: Array,\n      marker: Function,\n      loadtheme: {\n        type: Boolean,\n        default: function() {\n          return true\n        }\n      },\n      debugger: {\n        type: Boolean,\n        default: function() {\n          return true\n        }\n      },\n      options: {\n        type: Object,\n        required: true\n      },\n    },\n    created: function() {\n\n      if (this.options.lineNumbers === undefined) {\n        this.options.lineNumbers = true\n      }\n      if (this.options.lineWrapping === undefined) {\n        this.options.lineWrapping = false\n      }\n      if (this.options.mode === undefined) {\n        this.options.mode = 'text/javascript'\n      }\n\n      var theme = this.options.theme\n      var language = this.options.mode\n      var _debugger = this.debugger\n      var _loadtheme = this.loadtheme\n      var isCustomMode = !!CodeMirror.modes[language]\n\n      // theme config\n      if (theme && theme == 'solarized light') {\n        theme = 'solarized'\n      }\n\n      // console.log(language, CodeMirror.modes.simplemode)\n\n      // language string config\n      if (typeof language == 'string') {\n        var lang = CodeMirror.findModeByMIME(language)\n        language = !lang ? lang : lang.mode\n\n      // language object config\n      } else if (typeof language == 'object') {\n\n        if (language.name) {\n          var lang = CodeMirror.findModeByName(language.name)\n          if (lang) {\n            language = lang.mode\n            // this.options.mode = language\n          } else {\n            language = null\n          }\n        } else if (language.ext) {\n          var lang = CodeMirror.findModeByExtension(language.ext)\n          if (lang) {\n            language = lang.mode\n            // this.options.mode = language\n          } else {\n            language = null\n          }\n        } else if (language.mime) {\n          var lang = CodeMirror.findModeByMIME(language.mime)\n          if (lang) {\n            language = lang.mode\n            // this.options.mode = language\n          } else {\n            language = null\n          }\n        } else if (language.filename) {\n          var lang = CodeMirror.findModeByFileName(language.filename)\n          if (lang) {\n            language = lang.mode\n            // this.options.mode = language\n          } else {\n            language = null\n          }\n        }\n      }\n      \n      // console.log('language', language, isCustomMode)\n\n      if ((!language || language == 'null') && _debugger && !isCustomMode) {\n        console.warn('CodeMirror language mode: ' + language + ' configuration error (CodeMirror语言模式配置错误，或者不支持此语言) See http://codemirror.net/mode/ for more details.')\n        // return false\n      }\n\n      // console.log(language, theme)\n\n      // require language\n      if (language && language !== 'null') {\n        require('codemirror/mode/' + language + '/' + language + '.js')\n      }\n\n      // require theme\n      if (theme && _loadtheme) {\n        require('codemirror/theme/' + theme + '.css')\n      }\n    },\n    mounted: function() {\n      var _this = this\n      this.editor = CodeMirror.fromTextArea(this.$el, this.options)\n      this.editor.setValue(this.code || this.value || this.content)\n      this.editor.on('change', function(cm) {\n        _this.content = cm.getValue()\n        if (!!_this.$emit) {\n          _this.$emit('change', _this.content)\n          _this.$emit('input', _this.content)\n        }\n      })\n      var events = [\n        'changes',\n        'beforeChange',\n        'cursorActivity',\n        'keyHandled',\n        'inputRead',\n        'electricInput',\n        'beforeSelectionChange',\n        'viewportChange',\n        'swapDoc',\n        'gutterClick',\n        'gutterContextMenu',\n        'focus',\n        'blur',\n        'refresh',\n        'optionChange',\n        'scrollCursorIntoView',\n        'update'\n      ]\n      for (var i = events.length - 1; i >= 0; i--) {\n        (function(event) {\n          _this.editor.on(event, function(a, b, c) {\n            _this.$emit(event, a, b, c)\n          })\n        })(events[i])\n      }\n      this.$emit('ready', this.editor)\n      this.unseenLineMarkers()\n\n      // prevents funky dynamic rendering\n      window.setTimeout(function() {\n        _this.editor.refresh()\n      }, 0)\n    },\n    beforeDestroy: function() {\n      \n      // garbage cleanup\n      const element = this.editor.doc.cm.getWrapperElement()\n      if (element && element.remove) {\n        element.remove()\n      }\n    },\n    watch: {\n      options: {\n        deep: true,\n        handler(options, oldOptions) {\n          var key\n          for (key in options) {\n            this.editor.setOption(key, options[key])\n          }\n        }\n      },\n      code: function(newVal, oldVal) {\n        const editor_value = this.editor.getValue()\n        if (newVal !== editor_value) {\n          var scrollInfo = this.editor.getScrollInfo()\n          this.editor.setValue(newVal)\n          this.content = newVal\n          this.editor.scrollTo(scrollInfo.left, scrollInfo.top)\n        }\n        this.unseenLineMarkers()\n      },\n      value: function(newVal, oldVal) {\n        const editor_value = this.editor.getValue()\n        if (newVal !== editor_value) {\n          var scrollInfo = this.editor.getScrollInfo()\n          this.editor.setValue(newVal)\n          this.content = newVal\n          this.editor.scrollTo(scrollInfo.left, scrollInfo.top)\n        }\n        this.unseenLineMarkers()\n      }\n    },\n    methods: {\n      refresh: function() {\n        this.editor.refresh()\n      },\n      unseenLineMarkers: function () {\n        var _this = this\n        if (_this.unseenLines !== undefined && _this.marker !== undefined) {\n          _this.unseenLines.forEach(line => {\n            var info = _this.editor.lineInfo(line)\n            _this.editor.setGutterMarker(line, \"breakpoints\", info.gutterMarkers ? null : _this.marker())\n          })\n        }\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// codemirror.vue?318e7c2a","<template>\n  <div id=\"app\">\n    <div>\n      <md-input-container>\n          <label>Postcode</label>\n        <md-input v-model=\"selectedPostcode\"></md-input>\n      </md-input-container>\n    </div>\n    <div>\n      <div v-if=\"currentView==='map'\">\n        <GoogleMap id=\"gmap\" ref=\"gmap\"></GoogleMap>\n      </div>\n      <div v-else-if=\"currentView==='query'\">\n        <SparqlConsole id=\"console\" v-on:runQuery=\"runQuery\"></SparqlConsole>\n      </div>\n      <div v-else>\n        <ResultView id=\"result\">Results can be interesting</ResultView>\n      </div>\n    </div>\n    <md-bottom-bar>\n      <md-bottom-bar-item md-icon=\"map\" id=\"map-button\" @click=\"currentView='map'\" md-active>Map</md-bottom-bar-item>\n      <md-bottom-bar-item md-icon=\"code\" id=\"query-button\" @click=\"currentView='query'\">Query</md-bottom-bar-item>\n      <md-bottom-bar-item md-icon=\"equalizer\" id=\"result-button\" @click=\"runQuery\">Result</md-bottom-bar-item>\n    </md-bottom-bar>\n  </div>\n</template>\n\n<script>\n  const axios = require('axios')\n  // const d3 = require('d3-sparql')\n\n  import GoogleMap from '@/components/GoogleMap'\n  import SparqlConsole from '@/components/SparqlConsole'\n  import ResultView from '@/components/ResultView'\n\n  export default {\n    name: 'app',\n    data () {\n      return {\n        currentView: 'map',\n        endpoint: 'http://landregistry.data.gov.uk/landregistry/query'\n      }\n    },\n    components: {\n      GoogleMap,\n      SparqlConsole,\n      ResultView\n    },\n    methods: {\n      openResult: function () {\n        const resultButton = document.getElementById('result-button')\n        resultButton.click()\n      },\n      setCurrentViewResult: function () {\n        console.log(this.$refs)\n        this.$refs.sparqlconsole.runQuery()\n      },\n      runQuery: function () {\n        const mVue = this\n        const url = mVue.endpoint + '?query=' + encodeURIComponent(mVue.code)\n        axios.get(url, {\n          headers: {\n            'Accept': 'application/sparql-results+json'\n          }\n        }).then(function (response) {\n          const data = mVue.parseQueryResult(response.data.results.bindings)\n          // console.log(`RESPONSE: ${JSON.stringify(result)}`)\n          mVue.$store.commit('updateQueryStatusCode', response.status)\n          mVue.$store.commit('updateQueryResult', data)\n        }).catch((error) => {\n          if (error) {\n            mVue.$store.commit('updateQueryStatusCode', error.response.status)\n            mVue.$store.commit('updateQueryResult', error.response.data)\n          }\n        })\n        // d3.sparql(this.endpoint, this.code, function (error, data) {\n        //   if (error) throw error\n        //   console.log(JSON.stringify(data))\n        //   mVue.$store.commit('updateQueryResult', data)\n        // })\n      },\n      parseQueryResult: function (input) {\n        const mVue = this\n        return input.map(function (row) {\n          var rowObject = {}\n          Object.keys(row).forEach(function (column) {\n            rowObject[column] = mVue.dataTypeCast(row[column])\n          })\n          // console.log(JSON.stringify(rowObject))\n          return rowObject\n        })\n\n        // const mVue = this\n        // // console.log(`parseQueryResult, input: ${JSON.stringify(input)}`)\n        // var results = []\n        // input.forEach(function (element) {\n        //   var result = {}\n        //   element.forEach(function (field) {\n        //     var parsedField = {}\n        //     parsedField[field.key] = mVue.dataTypeCast(field)\n        //   })\n        //   console.log(`single item: ${JSON.stringify(element)}`)\n        //   result.push(item)\n        // })\n        // return result\n      },\n      dataTypeCast: function (obj) {\n        const xmlSchema = 'http://www.w3.org/2001/XMLSchema#'\n        var value = obj.value\n        if (typeof obj.datatype === 'undefined') {\n          return value\n        }\n        var dataType = obj.datatype.replace(xmlSchema, '')\n        switch (dataType) {\n          case 'string':\n            value = new String(value) // eslint-disable-line\n            break\n          case 'boolean':\n            value = new Boolean(value === 'false' ? false : value) // eslint-disable-line\n            break\n          case 'float':\n          case 'integer':\n          case 'long':\n          case 'double':\n          case 'decimal':\n          case 'nonPositiveInteger':\n          case 'nonNegativeInteger':\n          case 'negativeInteger':\n          case 'int':\n          case 'unsignedLong':\n          case 'positiveInteger':\n          case 'short':\n          case 'unsignedInt':\n          case 'byte':\n          case 'unsignedShort':\n          case 'unsignedByte':\n            value = new Number(value) // eslint-disable-line\n            break\n          case 'date':\n          case 'time':\n          case 'dateTime':\n            value = new Date(value)\n            break\n        }\n        return value\n      }\n    },\n    computed: {\n      selectedPostcode: {\n        get: function () {\n          return this.$store.state.postcode\n        },\n        set: function (newPostcode) {\n          this.$store.commit('updatePostcode', newPostcode)\n        }\n      },\n      queryResult: {\n        get: function () {\n          return this.$store.state.queryResult\n        }\n      },\n      code: {\n        get: function () {\n          return this.$store.getters.code\n        }\n      }\n    },\n    watch: {\n      queryResult: function () {\n        this.currentView = 'result'\n      }\n    }\n  }\n</script>\n\n<style>\n@import \"../node_modules/vue-material/dist/vue-material.css\";\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin: auto;\n  margin-top: 60px;\n  width: 550px;\n  height: 600px;\n  box-shadow: 1px 2px 2px 0px rgba(0,0,0,0.11);\n}\n\nh1, h2 {\n  font-weight: normal;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\na {\n  color: #42b983;\n}\n\n.md-bottom-bar {\n  box-shadow: 0px 0px 0px 0px rgba(0,0,0,0);\n}\n\n.md-bottom-bar-item {\n  max-width: 200px\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?58466af8","<template>\n  <div class=\"google-map\" id=\"gmap\"></div>\n</template>\n\n<script>\nconst chroma = require('chroma-js')\nconst turfInside = require('@turf/inside')\nconst turfHelpers = require('@turf/helpers')\nconst d3voronoi = require('d3-voronoi')\nconst axios = require('axios')\nconst Promise = require('bluebird')\n\nexport default {\n  name: 'google-map',\n  data () {\n    return {\n      visiblePostcodes: [],\n      map: {},\n      mapCenter: new window.google.maps.LatLng(51.46040383078197, -2.6015971891367826),\n      infoWindow: new window.google.maps.InfoWindow(),\n      populatingData: false\n    }\n  },\n  mounted () {\n    this.updateMapCenter()\n    const mVue = this\n    const element = document.getElementById('gmap')\n    const options = {\n      zoom: 17,\n      center: this.mapCenter,\n      disableDefaultUI: true,\n      zoomControl: true,\n      minZoom: 17,\n      maxZoom: 18\n    }\n    const map = new window.google.maps.Map(element, options)\n\n    map.addListener('idle', function () {\n      if (!mVue.populatingData) {\n        mVue.mapCenter = map.getCenter()\n        mVue.getNearbyPostcodes()\n      }\n    })\n    mVue.map = map\n  },\n  methods: {\n    updateMapCenter: function () {\n      const url = `https://api.postcodes.io/postcodes/${this.postcode}`\n      console.log(`Centroid URL: ${url}`)\n      return axios.get(url).then((response) => {\n        const latitude = response.data.result.latitude\n        const longitude = response.data.result.longitude\n        this.mapCenter = new window.google.maps.LatLng(latitude, longitude)\n        // console.log(`updateMapCenter: ${JSON.stringify(this.mapCenter)}`)\n      }).catch((error) => {\n        console.log(`Error: ${error}`)\n      })\n    },\n    getNearbyPostcodes: function () {\n      this.visiblePostcodes = []\n      const url = `https://api.postcodes.io/postcodes?lon=${this.mapCenter.lng()}&lat=${this.mapCenter.lat()}&radius=300&limit=99`\n      console.log(`Nearby URL: ${url}`)\n      axios.get(url).then((response) => {\n        const results = response.data.result\n        results.forEach((result) => {\n          var postcode = turfHelpers.point([result.longitude, result.latitude])\n          postcode.id = result.postcode\n          this.visiblePostcodes.push(postcode)\n        })\n      }).then(() => {\n        this.populateURLs()\n      }).catch((error) => {\n        console.log(`Error: ${error}`)\n      })\n    },\n    populateURLs: function () {\n      this.visiblePostcodes.forEach((postcode) => {\n        var url = `http://landregistry.data.gov.uk/data/ppi/transaction-record.json?_page=0&propertyAddress.postcode=${postcode.id}&_pageSize=50`\n        url = url.replace(` `, `%20`)\n        postcode.properties.url = url\n      })\n      this.getData()\n    },\n    getData: function () {\n      Promise.map(this.visiblePostcodes, postcode => axios.get(postcode.properties.url).then((response) => {\n        // console.log(postcode.properties.url)\n        var totalPaid = 0\n        const data = response.data.result.items\n        data.forEach((transaction) => {\n          totalPaid += transaction.pricePaid\n        })\n        if (totalPaid === 0) {\n          postcode.properties.averagePaid = 0\n        } else {\n          postcode.properties.averagePaid = totalPaid / data.length\n        }\n      }).catch((error) => {\n        console.log(error)\n      }), { concurrency: 10 }).then(() => {\n        // console.log(`getData: ${JSON.stringify(this.visiblePostcodes)}`)\n        this.generateVoronoi()\n      })\n    },\n    generateVoronoi: function () {\n      var centroids = []\n      this.visiblePostcodes.forEach((postcode) => {\n        centroids.push(postcode.geometry.coordinates)\n      })\n\n      const maxY = this.map.getBounds().getNorthEast().lat() + 0.005\n      const maxX = this.map.getBounds().getNorthEast().lng() + 0.005\n      const minY = this.map.getBounds().getSouthWest().lat() - 0.005\n      const minX = this.map.getBounds().getSouthWest().lng() - 0.005\n\n      let voronoi = d3voronoi.voronoi().extent([[minX, minY], [maxX, maxY]])\n      let polygons = voronoi(centroids).polygons()\n\n      var postcodePolygons = []\n      polygons.forEach((polygon) => {\n        // Reverse coordinate order so it conforms to the right-hand rule.\n        // Close the ring by making the last position the same as the first.\n        polygon.reverse().push(polygon[0])\n        var postcodePolygon = turfHelpers.polygon([polygon])\n        this.visiblePostcodes.forEach((postcodePoint) => {\n          if (turfInside(postcodePoint, postcodePolygon)) {\n            postcodePolygon.id = postcodePoint.id\n            postcodePolygon.properties = postcodePoint.properties\n            postcodePolygon.properties.centroid = postcodePoint.geometry.coordinates\n          }\n        })\n        postcodePolygons.push(postcodePolygon)\n      })\n      this.clearShapes()\n      this.visiblePostcodes = postcodePolygons\n      // console.log(`generateVoronoi: ${JSON.stringify(this.visiblePostcodes)}`)\n      this.populateData()\n    },\n    clearShapes: function () {\n      this.map.data.forEach((feature) => {\n        this.map.data.remove(feature)\n      })\n      this.visiblePostcodes = []\n    },\n    populateData: function () {\n      var min = Infinity\n      var max = -Infinity\n      this.visiblePostcodes.forEach((postcode) => {\n        this.map.data.addGeoJson(postcode)\n        if (postcode.properties.averagePaid > max) max = postcode.properties.averagePaid\n        if (postcode.properties.averagePaid < min) min = postcode.properties.averagePaid\n      })\n\n      const bezInterpolator = chroma.scale(['#fff0a9', '#e69735', '#682a0f'])\n      this.map.data.setStyle((feature) => {\n        const avgPaid = feature.getProperty('averagePaid')\n        var colorIndex = (avgPaid - min) / (max - min)\n        var color\n        if (avgPaid === 0) {\n          color = '#ffffff'\n        } else {\n          color = bezInterpolator(colorIndex)\n        }\n        return {\n          fillColor: color,\n          strokeWeight: 1\n        }\n      })\n      const mVue = this\n      this.map.data.addListener('click', function (event) {\n        if (mVue.infoWindow) {\n          mVue.infoWindow.close()\n        }\n        const centroid = event.feature.getProperty('centroid')\n        const averagePricePaid = event.feature.getProperty('averagePaid').toLocaleString('en-GB', { style: 'currency', currency: 'GBP', maximumFractionDigits: 2 })\n        const message = `<p><b>${event.feature.getId()}</b></p>` +\n                        `<p>Average Price Paid: ${averagePricePaid}</p>`\n        mVue.infoWindow = new window.google.maps.InfoWindow({\n          content: message,\n          position: new window.google.maps.LatLng(centroid[1], centroid[0])\n        })\n        mVue.postcode = event.feature.getId()\n        mVue.infoWindow.open(mVue.map)\n      })\n      this.populatingData = false\n    }\n  },\n  computed: {\n    postcode: {\n      get: function () {\n        return this.$store.state.postcode\n      },\n      set: function (newPostcode) {\n        this.$store.commit('updatePostcode', newPostcode)\n      }\n    }\n  },\n  watch: {\n    mapCenter: function () {\n      this.map.panTo(this.mapCenter)\n    },\n    postcode: function (newPostcode) {\n      if (newPostcode.length === 7) {\n        this.populatingData = true\n        this.updateMapCenter().then(() => {\n          this.getNearbyPostcodes()\n        })\n      }\n    }\n  }\n}\n</script> \n\n<style scoped>\n.google-map {\n  width: 550px;\n  height: 470px;\n  margin: 0 auto;\n  background: gray;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// GoogleMap.vue?1e0acd44","<template>\n  <div class=\"result-view\">\n    <div id=\"visualization\" v-if=\"activeView==='data'\">\n      <div id=\"rowChartDataTable\">\n        <div class=\"row\">\n          <span class=\"title\">Number of Sales per Property Type</span>\n          <div id=\"rowChart\"></div>\n        </div>\n        <div class=\"grid\">\n          <span class=\"title\">Latest Property Sale</span>\n          <div id=\"dataGrid\"></div>\n        </div>\n      </div>\n      <div class=\"bar\">\n        <span class=\"title\">Average Price Paid per Year</span>\n        <div id=\"barChart\"></div>\n      </div>\n    </div>\n    <div class=\"result-view\" id=\"json\" v-else-if=\"activeView==='json'\">\n      <pre>{{message}}</pre>\n      <pre>{{result}}</pre>\n    </div>\n  </div>\n</template>\n\n<script>\n  const dc = require('dc')\n  const d3 = require('d3')\n  const crossfilter = require('crossfilter')\n  \n  export default {\n    data () {\n      return {\n        result: this.$store.state.queryResult,\n        statusCode: this.$store.state.queryStatusCode,\n        message: '',\n        requiredFields: ['paon', 'street', 'town', 'county', 'propertyType', 'postcode', 'amount', 'date'],\n        activeView: 'data'\n      }\n    },\n    mounted () {\n      console.log(JSON.stringify(this.result))\n      const mVue = this\n      if (this.statusCode > 399) {\n        this.message = ''\n        this.activeView = 'json'\n        return\n      } else if (this.result.length === 0) {\n        this.message = `No sales in ${this.postcode} since 01/01/1995`\n        this.activeView = 'json'\n      } else {\n        var hasAllRequiredFields = this.requiredFields.every(function (field) {\n          return mVue.result[0].hasOwnProperty(field)\n        })\n        if (!hasAllRequiredFields) {\n          this.message = 'To visualize the data please return all of the following fields:\\n' +\n                         'paon, street, town, county, propertyType, postcode, amount, date\\n\\n' +\n                         'Query Result as JSON:'\n          this.activeView = 'json'\n        } else {\n          this.visualizeData()\n        }\n      }\n    },\n    methods: {\n      visualizeData: function () {\n        var rowChart = dc.rowChart('#rowChart')\n        var barChart = dc.barChart('#barChart')\n        var dataGrid = dc.dataGrid('#dataGrid')\n\n        var ndx = crossfilter(this.result)\n\n        var propertyTypeDimension = ndx.dimension(function (d) {\n          return d.propertyType\n        })\n        var propertyTypeGroup = propertyTypeDimension.group().reduceCount(function (d) {\n          return d.amount\n        })\n        var yearDimension = ndx.dimension(function (d) {\n          return d.date.toString().substring(11, 15)\n        })\n        var yearAvgGroup = yearDimension.group().reduce(\n          /* callback for when data is added to the current filter results */\n          function (p, v) {\n            ++p.count\n            p.total += v.amount\n            p.average = p.count ? p.total / p.count : 0\n            return p\n          },\n          /* callback for when data is removed from the current filter results */\n          function (p, v) {\n            --p.count\n            p.total -= v.amount\n            p.average = p.count ? p.total / p.count : 0\n            return p\n          },\n          /* initialize p */\n          function () {\n            return {\n              count: 0,\n              total: 0,\n              average: 0\n            }\n          }\n        )\n\n        var timeDimension = ndx.dimension(function (d) {\n          return d.date.getTime()\n        })\n\n        var yearDomain = []\n        for (var i = 1995; i < 2018; i++) {\n          yearDomain.push(i.toString())\n        }\n\n        rowChart\n          .width(260)\n          .height(200)\n          .group(propertyTypeGroup)\n          .dimension(propertyTypeDimension)\n          .ordinalColors(['#005E00', '#0F8500', '#35AB17', '#5BD13D', '#81F763'])\n          .title(function (d) {\n            return d.propertyType\n          })\n          .elasticX(true)\n          .turnOnControls(true)\n\n        rowChart.xAxis()\n          .ticks(5)\n          .tickSize(2)\n          .tickPadding(10)\n\n        barChart\n          .width(500)\n          .height(215)\n          .dimension(yearDimension)\n          .group(yearAvgGroup)\n          .valueAccessor(function (p) {\n            return p.value.average\n          })\n          .x(d3.scale.ordinal().domain(yearDomain))\n          .xUnits(dc.units.ordinal)\n          .elasticY(true)\n          .yAxisLabel('')\n          .elasticX(true)\n          .xAxisLabel('Year')\n          .renderHorizontalGridLines(true)\n          .gap(1)\n          .centerBar(false)\n          .margins({top: 10, right: 0, bottom: 45, left: 65})\n\n        barChart.xAxis()\n          .tickFormat(d => '\\'' + d.substring(2, 4))\n          .tickSize(2)\n          .tickPadding(10)\n\n        barChart.yAxis()\n          .tickFormat(d => d.toLocaleString('en-GB', {\n            style: 'currency',\n            currency: 'GBP',\n            maximumFractionDigits: 0,\n            minimumFractionDigits: 0\n          }))\n          .tickSize(2)\n\n        dataGrid\n          .dimension(timeDimension)\n          .group(function (d) {\n            return d.propertyType\n          })\n          .html(function (d) {\n            const html = `<div><b>Address:</b> ${d.paon} ${d.street}</div>` +\n              `<div><b>Town:</b> ${d.town}</div>` +\n              `<div><b>County:</b> ${d.county}</div>` +\n              `<div><b>Property Type:</b> ${d.propertyType}</div>` +\n              `<div><b>Price Paid:</b> ${d.amount.toLocaleString('en-GB', { style: 'currency', currency: 'GBP', maximumFractionDigits: 2 })}</div>` +\n              `<div><b>Date:</b> ${d.date.getDate()}/${d.date.getMonth() + 1}/${d.date.getFullYear()}</div>`\n            return html\n          })\n          .sortBy(function (d) {\n            return d.date.getTime()\n          })\n          .size(1)\n\n        dc.renderAll()\n      }\n    },\n    computed: {\n      postcode: {\n        get: function () {\n          return this.$store.state.postcode\n        },\n        set: function (newPostcode) {\n          this.$store.commit('updatePostcode', newPostcode)\n        }\n      },\n      updatedResult () {\n        this.$store.state.queryResult\n      }\n    },\n    watch: {\n      updatedResult: function (newResult) {\n        this.result = newResult\n        dc.redrawAll()\n      }\n    }\n  }\n</script>\n\n<style>\n@import \"../../node_modules/dc/dc.css\";\n\n.result-view {\n  width: 550px;\n  height: 470px;\n  text-align: left;\n  font-size: 13px;\n}\n\n#rowChartDataTable {\n  width: 490px;\n  height: 235px;\n  margin-top: -10px;\n  margin-right: 40px;\n  margin-left: 20px;\n  word-wrap: break-word;\n  float: left;\n}\n\n#try {\n  word-wrap: break-word;\n}\n\n.row {\n  float: left;\n  text-align: center;\n  margin-right: 10px;\n}\n\n.grid {\n  overflow: hidden;\n}\n\n.bar {\n  margin-left: 20px;\n}\n\n#json {\n  overflow-x: scroll;\n  overflow-y: scroll;\n}\n\n#block {\n  display: block;\n}\n\n.dc-grid-group {\n  visibility: collapse;\n  margin-bottom: -40px;\n}\n\n.title {\n  display: block;\n  text-align: center;\n  font-size: 15px;\n  font-weight: bold;\n}\n\n</style>\n\n\n// WEBPACK FOOTER //\n// ResultView.vue?3d383e76","<template>\n  <div class=\"sparql-console\">\n    <!-- codemirror -->\n    <codemirror id=\"codemirror\"\n                v-model=\"code\" \n                :options=\"editorOption\"\n                @changes=\"onEditorChanges\"\n                @beforeChange=\"onEditorBeforeChange\"\n                @beforeSelectionChange=\"onEditorBeforeSelectionChange\">\n    </codemirror>\n    <div class=\"my-fab\">\n      <md-button @click=\"runQuery\" class=\"md-fab md-primary\">\n        <md-icon>play_arrow</md-icon>\n      </md-button>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    data () {\n      return {\n        editorOption: {\n          inputStyle: 'contenteditable',\n          tabSize: 2,\n          foldGutter: true,\n          styleActiveLine: true,\n          lineNumbers: true,\n          line: true,\n          matchBrackets: true,\n          mode: 'application/sparql-query',\n          theme: 'base16-light'\n        }\n      }\n    },\n    methods: {\n      runQuery: function () {\n        const resultButton = document.getElementById('result-button')\n        resultButton.click()\n      },\n      getIndexAt: function (string, line, char) {\n        var currentLine = 0\n        for (var x = 0; x < string.length; x++) {\n          if (string[x] === '\\n') {\n            currentLine++\n            continue\n          }\n          if (currentLine === line) {\n            return x + char\n          }\n        }\n      },\n      onEditorBeforeSelectionChange: function (codemirror, changeObject) {\n        const ranges = JSON.parse(JSON.stringify(changeObject.ranges))\n        ranges[0].head = JSON.parse(JSON.stringify(changeObject.ranges[0].anchor))\n        changeObject.update(ranges)\n      },\n      onEditorBeforeChange: function (codemirror, changeObject) {\n        if (changeObject.origin !== '+delete' && changeObject.origin !== '+input' && changeObject.origin !== 'setValue') {\n          changeObject.cancel()\n        }\n      },\n      onEditorChanges: function (codemirror, changeObjects) {\n        const newEditorState = codemirror.getValue()\n        const postcodeStartIndex = this.queryPrefix.length\n        const postcodeEndIndex = postcodeStartIndex + this.postcode.length\n        for (var i = 0; i < changeObjects.length; i++) {\n          const changeObject = changeObjects[i]\n          if (changeObject.origin === '+delete') {\n            const deletedCharIndex = this.getIndexAt(codemirror.getValue(), changeObject.from.line, changeObject.from.ch)\n            if (deletedCharIndex < postcodeStartIndex) { // Change in query prefix\n              this.queryPrefix = newEditorState.substring(0, postcodeStartIndex - 1)\n            } else if (deletedCharIndex < postcodeEndIndex) { // Change in the postcode\n              this.postcode = newEditorState.substring(postcodeStartIndex, postcodeEndIndex - 1)\n            } else { // Change in query postfix\n              this.queryPostfix = newEditorState.substring(postcodeEndIndex, newEditorState.length)\n            }\n          } else if (changeObject.origin === '+input') {\n            const newCharIndex = this.getIndexAt(codemirror.getValue(), changeObject.from.line, changeObject.from.ch)\n            if (newCharIndex < postcodeStartIndex) { // Change in query prefix\n              this.queryPrefix = newEditorState.substring(0, postcodeStartIndex + 1)\n            } else if (newCharIndex <= postcodeEndIndex) { // Change in the postcode\n              this.postcode = newEditorState.substring(postcodeStartIndex, postcodeEndIndex + 1)\n            } else { // Change in query postfix\n              this.queryPostfix = newEditorState.substring(postcodeEndIndex, newEditorState.length)\n            }\n          }\n        }\n        console.log(this.code === newEditorState)\n      }\n    },\n    computed: {\n      postcode: {\n        get: function () {\n          return this.$store.state.postcode\n        },\n        set: function (newPostcode) {\n          this.$store.commit('updatePostcode', newPostcode)\n        }\n      },\n      code: {\n        get: function () {\n          return this.$store.getters.code\n        }\n      },\n      queryPrefix: {\n        get: function () {\n          return this.$store.state.queryPrefix\n        },\n        set: function (newQueryPrefix) {\n          this.$store.commit('updateQueryPrefix', newQueryPrefix)\n        }\n      },\n      queryPostfix: {\n        get: function () {\n          return this.$store.state.queryPostfix\n        },\n        set: function (newQueryPostfix) {\n          this.$store.commit('updateQueryPostfix', newQueryPostfix)\n        }\n      }\n    }\n  }\n</script>\n\n<style>\n@import \"../../node_modules/vue-material/dist/vue-material.css\";\n\n.sparql-console {\n  width: 550px;\n  height: 470px;\n  text-align: left;\n}\n\n#run-query {\n  background-color: #4CAF50;\n  float: right;\n}\n\n.my-fab {\n  position: relative;\n  bottom: 85px;\n  right: 15px;\n  text-align: right;\n  z-index: 5;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// SparqlConsole.vue?350ba71b","var map = {\n\t\"./meta.js\": 44,\n\t\"./sparql/sparql.js\": 97\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 96;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/codemirror/mode ^\\.\\/.*\\.js$\n// module id = 96\n// module chunks = 1","var map = {\n\t\"./base16-dark.css\": 142,\n\t\"./base16-light.css\": 143\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 98;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/codemirror/theme ^\\.\\/.*\\.css$\n// module id = 98\n// module chunks = 1"],"sourceRoot":""}